var tt=Object.defineProperty;var nt=(e,t,n)=>t in e?tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Se=(e,t,n)=>nt(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function M(){}function Ze(e){return e()}function Ve(){return Object.create(null)}function te(e){e.forEach(Ze)}function ze(e){return typeof e=="function"}function he(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function rt(e){return Object.keys(e).length===0}function Je(e,...t){if(e==null){for(const r of t)r(void 0);return M}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ot(e,t,n){e.$$.on_destroy.push(Je(t,n))}function i(e,t){e.appendChild(t)}function z(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function We(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function Z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function y(){return w(" ")}function de(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function l(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ie(e){return e===""?null:+e}function lt(e){return Array.from(e.childNodes)}function I(e,t){t=""+t,e.data!==t&&(e.data=t)}function D(e,t){e.value=t??""}let me;function ge(e){me=e}function it(){if(!me)throw new Error("Function called outside component initialization");return me}function Qe(e){it().$$.on_mount.push(e)}const le=[],Le=[];let se=[];const Be=[],st=Promise.resolve();let Ne=!1;function ut(){Ne||(Ne=!0,st.then(Xe))}function Oe(e){se.push(e)}const Me=new Set;let re=0;function Xe(){if(re!==0)return;const e=me;do{try{for(;re<le.length;){const t=le[re];re++,ge(t),ct(t.$$)}}catch(t){throw le.length=0,re=0,t}for(ge(null),le.length=0,re=0;Le.length;)Le.pop()();for(let t=0;t<se.length;t+=1){const n=se[t];Me.has(n)||(Me.add(n),n())}se.length=0}while(le.length);for(;Be.length;)Be.pop()();Ne=!1,Me.clear(),ge(e)}function ct(e){if(e.fragment!==null){e.update(),te(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Oe)}}function at(e){const t=[],n=[];se.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),se=t}const ye=new Set;let ee;function ft(){ee={r:0,c:[],p:ee}}function dt(){ee.r||te(ee.c),ee=ee.p}function Y(e,t){e&&e.i&&(ye.delete(e),e.i(t))}function pe(e,t,n,r){if(e&&e.o){if(ye.has(e))return;ye.add(e),ee.c.push(()=>{ye.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function we(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function je(e){e&&e.c()}function ke(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),Oe(()=>{const u=e.$$.on_mount.map(Ze).filter(ze);e.$$.on_destroy?e.$$.on_destroy.push(...u):te(u),e.$$.on_mount=[]}),o.forEach(Oe)}function xe(e,t){const n=e.$$;n.fragment!==null&&(at(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(e,t){e.$$.dirty[0]===-1&&(le.push(e),ut(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Pe(e,t,n,r,o,u,s=null,c=[-1]){const g=me;ge(e);const d=e.$$={fragment:null,ctx:[],props:u,update:M,not_equal:o,bound:Ve(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(g?g.$$.context:[])),callbacks:Ve(),dirty:c,skip_bound:!1,root:t.target||g.$$.root};s&&s(d.root);let m=!1;if(d.ctx=n?n(e,t.props||{},(p,b,...v)=>{const a=v.length?v[0]:b;return d.ctx&&o(d.ctx[p],d.ctx[p]=a)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](a),m&&pt(e,p)),b}):[],d.update(),m=!0,te(d.before_update),d.fragment=r?r(d.ctx):!1,t.target){if(t.hydrate){const p=lt(t.target);d.fragment&&d.fragment.l(p),p.forEach(O)}else d.fragment&&d.fragment.c();t.intro&&Y(e.$$.fragment),ke(e,t.target,t.anchor),Xe()}ge(g)}class $e{constructor(){Se(this,"$$");Se(this,"$$set")}$destroy(){xe(this,1),this.$destroy=M}$on(t,n){if(!ze(n))return M;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!rt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const gt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gt);const oe=[];function mt(e,t){return{subscribe:Ye(e,t).subscribe}}function Ye(e,t=M){let n;const r=new Set;function o(c){if(he(e,c)&&(e=c,n)){const g=!oe.length;for(const d of r)d[1](),oe.push(d,e);if(g){for(let d=0;d<oe.length;d+=2)oe[d][0](oe[d+1]);oe.length=0}}}function u(c){o(c(e))}function s(c,g=M){const d=[c,g];return r.add(d),r.size===1&&(n=t(o,u)||M),c(e),()=>{r.delete(d),r.size===0&&n&&(n(),n=null)}}return{set:o,update:u,subscribe:s}}function ht(e,t,n){const r=!Array.isArray(e),o=r?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const u=t.length<2;return mt(n,(s,c)=>{let g=!1;const d=[];let m=0,p=M;const b=()=>{if(m)return;p();const a=t(r?d[0]:d,s,c);u?s(a):p=ze(a)?a:M},v=o.map((a,k)=>Je(a,_=>{d[k]=_,m&=~(1<<k),g&&b()},()=>{m|=1<<k}));return g=!0,b(),function(){te(v),p(),g=!1}})}function bt(e){const t=e.weight/100*e.proteinPer100g,n=t>0?e.price/t:1/0;return{...e,totalProtein:Math.round(t*10)/10,pricePerGramProtein:Math.round(n*100)/100}}function vt(e){return e.sort((t,n)=>t.pricePerGramProtein-n.pricePerGramProtein).map((t,n)=>({...t,rank:n+1}))}function _e(e){return new Intl.NumberFormat("cs-CZ",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function He(e){return e>=1e3?`${(e/1e3).toFixed(1)} kg`:`${e} g`}function _t(){const{subscribe:e,set:t,update:n}=Ye([]),r=()=>{if(typeof window<"u"){const u=localStorage.getItem("products");if(u)try{const s=JSON.parse(u);t(s)}catch(s){console.error("Failed to load products from storage:",s)}}},o=u=>{typeof window<"u"&&localStorage.setItem("products",JSON.stringify(u))};return{subscribe:e,add:u=>n(s=>{const c=[...s,{...u,id:u.id||crypto.randomUUID(),createdAt:new Date}];return o(c),c}),remove:u=>n(s=>{const c=s.filter(g=>g.id!==u);return o(c),c}),clear:()=>{t([]),typeof window<"u"&&localStorage.removeItem("products")},loadFromStorage:r,set:u=>{t(u),o(u)}}}const ue=_t(),yt=ht(ue,e=>vt(e.map(t=>bt(t))));function wt(e){let t,n,r,o,u,s,c,g,d,m,p,b,v,a,k,_,P,L,C,h,x,j,F,ce,S,ne,G,K,R,N,J,V,B,ae,q,E,T,W;return{c(){t=f("div"),n=f("div"),r=f("div"),o=f("h2"),o.textContent="Přidat nový produkt",u=y(),s=f("button"),c=Z("svg"),g=Z("path"),d=y(),m=f("form"),p=f("div"),b=f("label"),b.textContent="Název produktu",v=y(),a=f("input"),k=y(),_=f("div"),P=f("div"),L=f("label"),L.textContent="Cena (Kč)",C=y(),h=f("input"),x=y(),j=f("div"),F=f("label"),F.textContent="Hmotnost (g)",ce=y(),S=f("input"),ne=y(),G=f("div"),K=f("label"),K.textContent="Bílkoviny na 100g",R=y(),N=f("input"),J=y(),V=f("div"),B=f("button"),ae=w("Zrušit"),q=y(),E=f("button"),E.textContent="Přidat produkt",l(o,"class","text-xl font-bold text-gray-900"),l(g,"stroke-linecap","round"),l(g,"stroke-linejoin","round"),l(g,"stroke-width","2"),l(g,"d","M6 18L18 6M6 6l12 12"),l(c,"xmlns","http://www.w3.org/2000/svg"),l(c,"class","h-6 w-6"),l(c,"fill","none"),l(c,"viewBox","0 0 24 24"),l(c,"stroke","currentColor"),l(s,"onclick",e[0]),l(s,"class","text-gray-400 hover:text-gray-600"),l(r,"class","flex items-center justify-between mb-4"),l(b,"for","name"),l(b,"class","block text-sm font-medium text-gray-700 mb-1"),l(a,"type","text"),l(a,"id","name"),l(a,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"),l(a,"placeholder","např. Tvaroh Pilos"),a.required=!0,l(L,"for","price"),l(L,"class","block text-sm font-medium text-gray-700 mb-1"),l(h,"type","number"),l(h,"id","price"),l(h,"step","0.01"),l(h,"min","0"),l(h,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"),l(h,"placeholder","36.90"),h.required=!0,l(F,"for","weight"),l(F,"class","block text-sm font-medium text-gray-700 mb-1"),l(S,"type","number"),l(S,"id","weight"),l(S,"min","1"),l(S,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"),l(S,"placeholder","250"),S.required=!0,l(_,"class","grid grid-cols-2 gap-4"),l(K,"for","protein"),l(K,"class","block text-sm font-medium text-gray-700 mb-1"),l(N,"type","number"),l(N,"id","protein"),l(N,"step","0.1"),l(N,"min","0"),l(N,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"),l(N,"placeholder","12.5"),N.required=!0,l(B,"type","button"),l(B,"onclick",e[0]),l(B,"class","flex-1 py-2 px-4 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors"),l(E,"type","submit"),l(E,"class","flex-1 py-2 px-4 border border-transparent rounded-md text-white bg-primary hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors"),l(V,"class","flex gap-3 mt-6"),l(m,"onsubmit",e[12]),l(m,"class","space-y-4"),l(n,"class","bg-white rounded-lg shadow-xl max-w-md w-full p-6"),l(t,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"),l(t,"onclick",e[6])},m($,A){z($,t,A),i(t,n),i(n,r),i(r,o),i(r,u),i(r,s),i(s,c),i(c,g),i(n,d),i(n,m),i(m,p),i(p,b),i(p,v),i(p,a),D(a,e[1]),i(m,k),i(m,_),i(_,P),i(P,L),i(P,C),i(P,h),D(h,e[2]),i(_,x),i(_,j),i(j,F),i(j,ce),i(j,S),D(S,e[3]),i(m,ne),i(m,G),i(G,K),i(G,R),i(G,N),D(N,e[4]),i(m,J),i(m,V),i(V,B),i(B,ae),i(V,q),i(V,E),T||(W=[de(a,"input",e[8]),de(h,"input",e[9]),de(S,"input",e[10]),de(N,"input",e[11])],T=!0)},p($,[A]){A&1&&l(s,"onclick",$[0]),A&2&&a.value!==$[1]&&D(a,$[1]),A&4&&ie(h.value)!==$[2]&&D(h,$[2]),A&8&&ie(S.value)!==$[3]&&D(S,$[3]),A&16&&ie(N.value)!==$[4]&&D(N,$[4]),A&1&&l(B,"onclick",$[0])},i:M,o:M,d($){$&&O(t),T=!1,te(W)}}}function kt(e,t,n){let{onclose:r}=t,{initialProduct:o=null}=t,u=(o==null?void 0:o.name)||"",s=(o==null?void 0:o.price)||null,c=(o==null?void 0:o.weight)||null,g=(o==null?void 0:o.proteinPer100g)||null;function d(){if(!u||!s||!c||!g){alert("Vyplňte prosím všechna pole");return}const _={id:crypto.randomUUID(),name:u,price:Number(s),weight:Number(c),proteinPer100g:Number(g),isFromDatabase:!1};ue.add(_),r()}function m(_){_.target===_.currentTarget&&r()}function p(){u=this.value,n(1,u)}function b(){s=ie(this.value),n(2,s)}function v(){c=ie(this.value),n(3,c)}function a(){g=ie(this.value),n(4,g)}const k=_=>{_.preventDefault(),d()};return e.$$set=_=>{"onclose"in _&&n(0,r=_.onclose),"initialProduct"in _&&n(7,o=_.initialProduct)},[r,u,s,c,g,d,m,o,p,b,v,a,k]}class xt extends $e{constructor(t){super(),Pe(this,t,kt,wt,he,{onclose:0,initialProduct:7})}}function De(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function qe(e){let t,n;return{c(){t=f("button"),n=w("Vymazat vše"),l(t,"onclick",e[2]),l(t,"class","text-sm text-red-600 hover:text-red-800 transition-colors")},m(r,o){z(r,t,o),i(t,n)},p:M,d(r){r&&O(t)}}}function Pt(e){let t,n=we(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Te(De(e,n,o));return{c(){t=f("div");for(let o=0;o<r.length;o+=1)r[o].c();l(t,"class","divide-y divide-gray-200")},m(o,u){z(o,t,u);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(t,null)},p(o,u){if(u&3){n=we(o[0]);let s;for(s=0;s<n.length;s+=1){const c=De(o,n,s);r[s]?r[s].p(c,u):(r[s]=Te(c),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(o){o&&O(t),We(r,o)}}}function $t(e){let t;return{c(){t=f("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">Žádné produkty</h3> <p class="mt-1 text-sm text-gray-500">Začněte přidáním prvního produktu k porovnání.</p>',l(t,"class","px-4 py-12 text-center")},m(n,r){z(n,t,r)},p:M,d(n){n&&O(t)}}}function Ct(e){let t;return{c(){t=f("span"),t.textContent=`#${e[6]+1}`,l(t,"class","text-lg font-semibold text-gray-500 w-7")},m(n,r){z(n,t,r)},d(n){n&&O(t)}}}function St(e){let t;return{c(){t=f("span"),t.textContent="🥉",l(t,"class","text-2xl")},m(n,r){z(n,t,r)},d(n){n&&O(t)}}}function Mt(e){let t;return{c(){t=f("span"),t.textContent="🥈",l(t,"class","text-2xl")},m(n,r){z(n,t,r)},d(n){n&&O(t)}}}function Lt(e){let t;return{c(){t=f("span"),t.textContent="🏆",l(t,"class","text-2xl")},m(n,r){z(n,t,r)},d(n){n&&O(t)}}}function Te(e){let t,n,r,o,u,s,c,g=e[4].name+"",d,m,p,b,v,a=_e(e[4].price)+"",k,_,P,L,C,h=He(e[4].weight)+"",x,j,F,ce,S=e[4].proteinPer100g+"",ne,G,K,R,N,J=e[4].totalProtein+"",V,B,ae,q,E,T,W=_e(e[4].pricePerGramProtein)+"",$,A,Ee,be,Fe,Q,X,fe,ve,Ae;function et(U,H){return U[6]===0?Lt:U[6]===1?Mt:U[6]===2?St:Ct}let Ce=et(e)(e);function Ie(){return e[3](e[4])}return{c(){t=f("div"),n=f("div"),r=f("div"),o=f("div"),Ce.c(),u=y(),s=f("div"),c=f("h3"),d=w(g),m=y(),p=f("div"),b=f("span"),v=w("Cena: "),k=w(a),_=w(" Kč"),P=y(),L=f("span"),C=w("Hmotnost: "),x=w(h),j=y(),F=f("span"),ce=w("Protein: "),ne=w(S),G=w("g/100g"),K=y(),R=f("span"),N=w("Celkem: "),V=w(J),B=w("g proteinu"),ae=y(),q=f("div"),E=f("div"),T=f("div"),$=w(W),A=w(" Kč"),Ee=y(),be=f("div"),be.textContent="za 1g proteinu",Fe=y(),Q=f("button"),X=Z("svg"),fe=Z("path"),Ae=y(),l(c,"class","text-base font-medium text-gray-900"),l(p,"class","mt-1 flex flex-wrap gap-4 text-sm text-gray-600"),l(s,"class","flex-1"),l(o,"class","flex items-center gap-3"),l(r,"class","flex-1"),l(T,"class","text-2xl font-bold text-primary"),l(be,"class","text-xs text-gray-500"),l(E,"class","text-right"),l(fe,"fill-rule","evenodd"),l(fe,"d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"),l(fe,"clip-rule","evenodd"),l(X,"xmlns","http://www.w3.org/2000/svg"),l(X,"class","h-5 w-5"),l(X,"viewBox","0 0 20 20"),l(X,"fill","currentColor"),l(Q,"onclick",ve=Ie),l(Q,"class","text-red-500 hover:text-red-700 transition-colors p-2"),l(Q,"aria-label","Odebrat produkt"),l(q,"class","flex items-center gap-4"),l(n,"class","flex items-center justify-between"),l(t,"class","px-4 py-4 hover:bg-gray-50 transition-colors")},m(U,H){z(U,t,H),i(t,n),i(n,r),i(r,o),Ce.m(o,null),i(o,u),i(o,s),i(s,c),i(c,d),i(s,m),i(s,p),i(p,b),i(b,v),i(b,k),i(b,_),i(p,P),i(p,L),i(L,C),i(L,x),i(p,j),i(p,F),i(F,ce),i(F,ne),i(F,G),i(p,K),i(p,R),i(R,N),i(R,V),i(R,B),i(n,ae),i(n,q),i(q,E),i(E,T),i(T,$),i(T,A),i(E,Ee),i(E,be),i(q,Fe),i(q,Q),i(Q,X),i(X,fe),i(t,Ae)},p(U,H){e=U,H&1&&g!==(g=e[4].name+"")&&I(d,g),H&1&&a!==(a=_e(e[4].price)+"")&&I(k,a),H&1&&h!==(h=He(e[4].weight)+"")&&I(x,h),H&1&&S!==(S=e[4].proteinPer100g+"")&&I(ne,S),H&1&&J!==(J=e[4].totalProtein+"")&&I(V,J),H&1&&W!==(W=_e(e[4].pricePerGramProtein)+"")&&I($,W),H&1&&ve!==(ve=Ie)&&l(Q,"onclick",ve)},d(U){U&&O(t),Ce.d()}}}function Nt(e){let t,n,r,o,u=e[0].length+"",s,c,g,d,m=e[0].length>0&&qe(e);function p(a,k){return a[0].length===0?$t:Pt}let b=p(e),v=b(e);return{c(){t=f("div"),n=f("div"),r=f("h2"),o=w("Porovnání produktů ("),s=w(u),c=w(")"),g=y(),m&&m.c(),d=y(),v.c(),l(r,"class","text-lg font-semibold text-gray-900"),l(n,"class","px-4 py-3 border-b border-gray-200 flex items-center justify-between"),l(t,"class","bg-white rounded-lg shadow")},m(a,k){z(a,t,k),i(t,n),i(n,r),i(r,o),i(r,s),i(r,c),i(n,g),m&&m.m(n,null),i(t,d),v.m(t,null)},p(a,[k]){k&1&&u!==(u=a[0].length+"")&&I(s,u),a[0].length>0?m?m.p(a,k):(m=qe(a),m.c(),m.m(n,null)):m&&(m.d(1),m=null),b===(b=p(a))&&v?v.p(a,k):(v.d(1),v=b(a),v&&(v.c(),v.m(t,null)))},i:M,o:M,d(a){a&&O(t),m&&m.d(),v.d()}}}function Ot(e,t,n){let r;ot(e,yt,c=>n(0,r=c));function o(c){confirm("Opravdu chcete odebrat tento produkt?")&&ue.remove(c)}function u(){confirm("Opravdu chcete vymazat všechny produkty?")&&ue.clear()}return[r,o,u,c=>o(c.id)]}class jt extends $e{constructor(t){super(),Pe(this,t,Ot,Nt,he,{})}}const zt=[{id:"db-1",name:"Tvaroh polotučný Pilos",price:36.9,weight:250,proteinPer100g:12.5,category:"dairy"},{id:"db-2",name:"Kuřecí prsa",price:159.9,weight:500,proteinPer100g:23,category:"meat"},{id:"db-3",name:"Řecký jogurt 0% Milko",price:24.9,weight:140,proteinPer100g:10,category:"dairy"},{id:"db-4",name:"Cottage cheese Pribináček",price:29.9,weight:200,proteinPer100g:11,category:"dairy"},{id:"db-5",name:"Červená čočka",price:39.9,weight:500,proteinPer100g:25,category:"legumes"},{id:"db-6",name:"Fazole bílé",price:34.9,weight:500,proteinPer100g:21,category:"legumes"},{id:"db-7",name:"Proteinová tyčinka Nutrend",price:45,weight:55,proteinPer100g:36,category:"supplements"},{id:"db-8",name:"Whey protein MyProtein",price:599,weight:1e3,proteinPer100g:82,category:"supplements"},{id:"db-9",name:"Vejce M (10ks)",price:54.9,weight:530,proteinPer100g:13,category:"other"},{id:"db-10",name:"Tuňák ve vlastní šťávě",price:44.9,weight:160,proteinPer100g:26,category:"fish"},{id:"db-11",name:"Arašídové máslo 100%",price:89.9,weight:340,proteinPer100g:25,category:"nuts"},{id:"db-12",name:"Skyr natural Pilos",price:24.9,weight:150,proteinPer100g:11,category:"dairy"},{id:"db-13",name:"Hovězí mleté maso",price:189.9,weight:500,proteinPer100g:20,category:"meat"},{id:"db-14",name:"Sójové boby",price:49.9,weight:500,proteinPer100g:36,category:"legumes"},{id:"db-15",name:"Losos filety",price:249.9,weight:300,proteinPer100g:20,category:"fish"}],Et={products:zt};function Ue(e,t,n){const r=e.slice();return r[11]=t[n],r}function Ge(e){let t,n=we(e[1]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Ke(Ue(e,n,o));return{c(){t=f("div");for(let o=0;o<r.length;o+=1)r[o].c();l(t,"class","absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto")},m(o,u){z(o,t,u);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(t,null)},p(o,u){if(u&34){n=we(o[1]);let s;for(s=0;s<n.length;s+=1){const c=Ue(o,n,s);r[s]?r[s].p(c,u):(r[s]=Ke(c),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(o){o&&O(t),We(r,o)}}}function Ke(e){let t,n,r=e[11].name+"",o,u,s,c=e[11].price+"",g,d,m=e[11].weight+"",p,b,v=e[11].proteinPer100g+"",a,k,_,P;function L(){return e[9](e[11])}return{c(){t=f("button"),n=f("div"),o=w(r),u=y(),s=f("div"),g=w(c),d=w(" Kč | "),p=w(m),b=w("g | "),a=w(v),k=w("g proteinu/100g"),_=y(),l(n,"class","font-medium text-gray-900"),l(s,"class","text-sm text-gray-600 mt-1"),l(t,"onclick",P=L),l(t,"class","w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none transition-colors border-b border-gray-100 last:border-b-0")},m(C,h){z(C,t,h),i(t,n),i(n,o),i(t,u),i(t,s),i(s,g),i(s,d),i(s,p),i(s,b),i(s,a),i(s,k),i(t,_)},p(C,h){e=C,h&2&&r!==(r=e[11].name+"")&&I(o,r),h&2&&c!==(c=e[11].price+"")&&I(g,c),h&2&&m!==(m=e[11].weight+"")&&I(p,m),h&2&&v!==(v=e[11].proteinPer100g+"")&&I(a,v),h&2&&P!==(P=L)&&l(t,"onclick",P)},d(C){C&&O(t)}}}function Ft(e){let t,n,r,o,u,s,c,g,d,m,p=e[2]&&e[1].length>0&&Ge(e);return{c(){t=f("div"),n=f("div"),r=f("input"),u=y(),s=Z("svg"),c=Z("path"),g=y(),p&&p.c(),l(r,"type","text"),l(r,"oninput",e[4]),l(r,"onfocus",o=e[6]),l(r,"placeholder","Vyhledat produkt v databázi..."),l(r,"class","w-full px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"),l(c,"stroke-linecap","round"),l(c,"stroke-linejoin","round"),l(c,"stroke-width","2"),l(c,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),l(s,"xmlns","http://www.w3.org/2000/svg"),l(s,"class","absolute right-3 top-3.5 h-5 w-5 text-gray-400"),l(s,"fill","none"),l(s,"viewBox","0 0 24 24"),l(s,"stroke","currentColor"),l(n,"class","relative"),l(t,"class","relative")},m(b,v){z(b,t,v),i(t,n),i(n,r),e[7](r),D(r,e[0]),i(n,u),i(n,s),i(s,c),i(t,g),p&&p.m(t,null),d||(m=de(r,"input",e[8]),d=!0)},p(b,[v]){v&6&&o!==(o=b[6])&&l(r,"onfocus",o),v&1&&r.value!==b[0]&&D(r,b[0]),b[2]&&b[1].length>0?p?p.p(b,v):(p=Ge(b),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},i:M,o:M,d(b){b&&O(t),e[7](null),p&&p.d(),d=!1,m()}}}function At(e,t,n){let r="",o=[],u=!1,s;function c(){if(r.length<2){n(1,o=[]);return}const a=r.toLowerCase();n(1,o=Et.products.filter(k=>k.name.toLowerCase().includes(a))),n(2,u=o.length>0)}function g(a){ue.add({...a,id:crypto.randomUUID(),isFromDatabase:!0}),n(0,r=""),n(1,o=[]),n(2,u=!1)}function d(a){s&&!s.contains(a.target)&&n(2,u=!1)}Qe(()=>(document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}));const m=()=>o.length>0&&n(2,u=!0);function p(a){Le[a?"unshift":"push"](()=>{s=a,n(3,s)})}function b(){r=this.value,n(0,r)}return[r,o,u,s,c,g,m,p,b,a=>g(a)]}class It extends $e{constructor(t){super(),Pe(this,t,At,Ft,he,{})}}function Re(e){let t,n;return t=new xt({props:{onclose:e[2]}}),{c(){je(t.$$.fragment)},m(r,o){ke(t,r,o),n=!0},p(r,o){const u={};o&1&&(u.onclose=r[2]),t.$set(u)},i(r){n||(Y(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){xe(t,r)}}}function Vt(e){let t,n,r,o,u,s,c,g,d,m,p,b,v,a,k,_,P,L,C;a=new It({}),P=new jt({});let h=e[0]&&Re(e);return{c(){t=f("main"),n=f("header"),r=f("div"),o=f("div"),u=f("div"),u.innerHTML='<h1 class="text-2xl font-bold text-gray-900">🥩 Protein Hunter</h1> <p class="text-sm text-gray-600 mt-1">Najděte nejlepší poměr proteinu a ceny</p>',s=y(),c=f("button"),g=Z("svg"),d=Z("path"),m=w(`
          Přidat produkt`),b=y(),v=f("div"),je(a.$$.fragment),k=y(),_=f("div"),je(P.$$.fragment),L=y(),h&&h.c(),l(d,"fill-rule","evenodd"),l(d,"d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"),l(d,"clip-rule","evenodd"),l(g,"xmlns","http://www.w3.org/2000/svg"),l(g,"class","h-5 w-5"),l(g,"viewBox","0 0 20 20"),l(g,"fill","currentColor"),l(c,"onclick",p=e[1]),l(c,"class","bg-primary hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow-sm transition-colors flex items-center gap-2"),l(o,"class","flex items-center justify-between"),l(r,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"),l(n,"class","bg-white shadow-sm border-b"),l(_,"class","mt-6"),l(v,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"),l(t,"class","min-h-screen bg-gray-50")},m(x,j){z(x,t,j),i(t,n),i(n,r),i(r,o),i(o,u),i(o,s),i(o,c),i(c,g),i(g,d),i(c,m),i(t,b),i(t,v),ke(a,v,null),i(v,k),i(v,_),ke(P,_,null),i(t,L),h&&h.m(t,null),C=!0},p(x,[j]){(!C||j&1&&p!==(p=x[1]))&&l(c,"onclick",p),x[0]?h?(h.p(x,j),j&1&&Y(h,1)):(h=Re(x),h.c(),Y(h,1),h.m(t,null)):h&&(ft(),pe(h,1,1,()=>{h=null}),dt())},i(x){C||(Y(a.$$.fragment,x),Y(P.$$.fragment,x),Y(h),C=!0)},o(x){pe(a.$$.fragment,x),pe(P.$$.fragment,x),pe(h),C=!1},d(x){x&&O(t),xe(a),xe(P),h&&h.d()}}}function Bt(e,t,n){let r=!1;return Qe(()=>{ue.loadFromStorage()}),[r,()=>n(0,r=!0),()=>n(0,r=!1)]}class Ht extends $e{constructor(t){super(),Pe(this,t,Bt,Vt,he,{})}}new Ht({target:document.getElementById("app")});
