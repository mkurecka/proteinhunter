var Tn=Object.defineProperty;var ur=e=>{throw TypeError(e)};var Cn=(e,t,r)=>t in e?Tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ke=(e,t,r)=>Cn(e,typeof t!="symbol"?t+"":t,r),Ft=(e,t,r)=>t.has(e)||ur("Cannot "+r);var P=(e,t,r)=>(Ft(e,t,"read from private field"),r?r.call(e):t.get(e)),$=(e,t,r)=>t.has(e)?ur("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ce=(e,t,r,n)=>(Ft(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ve=(e,t,r)=>(Ft(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const On="5";var Er;typeof window<"u"&&((Er=window.__svelte??(window.__svelte={})).v??(Er.v=new Set)).add(On);let $e=!1,An=!1;function Nn(){$e=!0}Nn();const Dn=1,Mn=2,Fn=16,In=2,Rn=4,Ln=8,jn=2,D=Symbol(),Pr=!1;var Wt=Array.isArray,qn=Array.prototype.indexOf,Sr=Array.from,vt=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,Vn=Object.getOwnPropertyDescriptors,Bn=Object.prototype,Un=Array.prototype,Tr=Object.getPrototypeOf;const ae=()=>{};function $n(e){return e()}function dt(e){for(var t=0;t<e.length;t++)e[t]()}function Cr(){var e,t,r=new Promise((n,i)=>{e=n,t=i});return{promise:r,resolve:e,reject:t}}const q=2,Yt=4,wt=8,Te=16,le=32,ze=64,Or=128,H=256,pt=512,F=1024,U=2048,me=4096,G=8192,Ce=16384,Gt=32768,Zt=65536,fr=1<<17,zn=1<<18,xt=1<<19,Ar=1<<20,qt=1<<21,kt=1<<22,ke=1<<23,Ee=Symbol("$state"),Hn=Symbol("legacy props"),Ye=new class extends Error{constructor(){super(...arguments);Ke(this,"name","StaleReactionError");Ke(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Kn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Wn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Yn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Gn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Zn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Jn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Xn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Qn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ei(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ti(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ri=!1;function Nr(e){return e===this.v}function Dr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Mr(e){return!Dr(e,this.v)}let N=null;function _t(e){N=e}function Et(e,t=!1,r){N={p:N,c:null,e:null,s:e,x:null,l:$e&&!t?{s:null,u:null,$:[]}:null}}function Pt(e){var t=N,r=t.e;if(r!==null){t.e=null;for(var n of r)zr(n)}return N=t.p,{}}function rt(){return!$e||N!==null&&N.l===null}let we=[];function Fr(){var e=we;we=[],dt(e)}function Jt(e){if(we.length===0&&!Ge){var t=we;queueMicrotask(()=>{t===we&&Fr()})}we.push(e)}function ni(){for(;we.length>0;)Fr()}const ii=new WeakMap;function ai(e){var t=x;if(t===null)return w.f|=ke,e;if(t.f&Gt)ht(e,t);else{if(!(t.f&Or))throw!t.parent&&e instanceof Error&&Ir(e),e;t.b.error(e)}}function ht(e,t){for(;t!==null;){if(t.f&Or)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&Ir(e),e}function Ir(e){const t=ii.get(e);t&&(vt(e,"message",{value:t.message}),vt(e,"stack",{value:t.stack}))}const st=new Set;let S=null,ft=null,cr=new Set,X=[],St=null,Vt=!1,Ge=!1;var je,qe,pe,Qe,Ve,Be,xe,Ue,et,tt,K,Bt,ct,Ut;const Re=class Re{constructor(){$(this,K);Ke(this,"current",new Map);$(this,je,new Map);$(this,qe,new Set);$(this,pe,0);$(this,Qe,null);$(this,Ve,[]);$(this,Be,[]);$(this,xe,[]);$(this,Ue,[]);$(this,et,[]);$(this,tt,[]);Ke(this,"skipped_effects",new Set)}process(t){var a;X=[],ft=null;var r=Re.apply(this);for(const l of t)ve(this,K,Bt).call(this,l);if(P(this,pe)===0){ve(this,K,Ut).call(this);var n=P(this,Be),i=P(this,xe);ce(this,Be,[]),ce(this,xe,[]),ce(this,Ue,[]),ft=this,S=null,vr(n),vr(i),(a=P(this,Qe))==null||a.resolve()}else ve(this,K,ct).call(this,P(this,Be)),ve(this,K,ct).call(this,P(this,xe)),ve(this,K,ct).call(this,P(this,Ue));r();for(const l of P(this,Ve))Xe(l);ce(this,Ve,[])}capture(t,r){P(this,je).has(t)||P(this,je).set(t,r),this.current.set(t,t.v)}activate(){S=this}deactivate(){S=null,ft=null;for(const t of cr)if(cr.delete(t),t(),S!==null)break}flush(){if(X.length>0){if(this.activate(),Rr(),S!==null&&S!==this)return}else P(this,pe)===0&&ve(this,K,Ut).call(this);this.deactivate()}increment(){ce(this,pe,P(this,pe)+1)}decrement(){if(ce(this,pe,P(this,pe)-1),P(this,pe)===0){for(const t of P(this,et))j(t,U),Se(t);for(const t of P(this,tt))j(t,me),Se(t);this.flush()}else this.deactivate()}add_callback(t){P(this,qe).add(t)}settled(){return(P(this,Qe)??ce(this,Qe,Cr())).promise}static ensure(){if(S===null){const t=S=new Re;st.add(S),Ge||Re.enqueue(()=>{S===t&&t.flush()})}return S}static enqueue(t){Jt(t)}static apply(t){return ae}};je=new WeakMap,qe=new WeakMap,pe=new WeakMap,Qe=new WeakMap,Ve=new WeakMap,Be=new WeakMap,xe=new WeakMap,Ue=new WeakMap,et=new WeakMap,tt=new WeakMap,K=new WeakSet,Bt=function(t){var o;t.f^=F;for(var r=t.first;r!==null;){var n=r.f,i=(n&(le|ze))!==0,a=i&&(n&F)!==0,l=a||(n&G)!==0||this.skipped_effects.has(r);if(!l&&r.fn!==null){i?r.f^=F:n&Yt?P(this,xe).push(r):n&F||(n&kt&&((o=r.b)!=null&&o.is_pending())?P(this,Ve).push(r):At(r)&&(r.f&Te&&P(this,Ue).push(r),Xe(r)));var u=r.first;if(u!==null){r=u;continue}}var s=r.parent;for(r=r.next;r===null&&s!==null;)r=s.next,s=s.parent}},ct=function(t){for(const r of t)(r.f&U?P(this,et):P(this,tt)).push(r),j(r,F);t.length=0},Ut=function(){var t;for(const r of P(this,qe))r();if(P(this,qe).clear(),st.size>1){P(this,je).clear();let r=!0;for(const n of st){if(n===this){r=!1;continue}for(const[i,a]of this.current){if(n.current.has(i))if(r)n.current.set(i,a);else continue;Lr(i)}if(X.length>0){S=n;const i=Re.apply(n);for(const a of X)ve(t=n,K,Bt).call(t,a);X=[],i()}}S=null}st.delete(this)};let gt=Re;function li(e){var t=Ge;Ge=!0;try{for(var r;;){if(ni(),X.length===0&&(S==null||S.flush(),X.length===0))return St=null,r;Rr()}}finally{Ge=t}}function Rr(){var e=Le;Vt=!0;try{var t=0;for(_r(!0);X.length>0;){var r=gt.ensure();if(t++>1e3){var n,i;si()}r.process(X),he.clear()}}finally{Vt=!1,_r(e),St=null}}function si(){try{Jn()}catch(e){ht(e,St)}}let ne=null;function vr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if(!(n.f&(Ce|G))&&At(n)&&(ne=[],Xe(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?Gr(n):n.fn=null),(ne==null?void 0:ne.length)>0)){he.clear();for(const i of ne)Xe(i);ne=[]}}ne=null}}function Lr(e){if(e.reactions!==null)for(const t of e.reactions){const r=t.f;r&q?Lr(t):r&(kt|Te)&&(j(t,U),Se(t))}}function Se(e){for(var t=St=e;t.parent!==null;){t=t.parent;var r=t.f;if(Vt&&t===x&&r&Te)return;if(r&(ze|le)){if(!(r&F))return;t.f^=F}}X.push(t)}function oi(e,t,r){const n=rt()?Xt:Qt;if(t.length===0){r(e.map(n));return}var i=S,a=x,l=ui();Promise.all(t.map(u=>fi(u))).then(u=>{i==null||i.activate(),l();try{r([...e.map(n),...u])}catch(s){a.f&Ce||ht(s,a)}i==null||i.deactivate(),jr()}).catch(u=>{ht(u,a)})}function ui(){var e=x,t=w,r=N,n=S;return function(){ge(e),ee(t),_t(r),n==null||n.activate()}}function jr(){ge(null),ee(null),_t(null)}function Xt(e){var t=q|U,r=w!==null&&w.f&q?w:null;return x===null||r!==null&&r.f&H?t|=H:x.f|=xt,{ctx:N,deps:null,effects:null,equals:Nr,f:t,fn:e,reactions:null,rv:0,v:D,wv:0,parent:r??x,ac:null}}function fi(e,t){let r=x;r===null&&Wn();var n=r.b,i=void 0,a=Ze(D),l=!w,u=new Map;return wi(()=>{var d;var s=Cr();i=s.promise;try{Promise.resolve(e()).then(s.resolve,s.reject)}catch(c){s.reject(c)}var o=S,v=n.is_pending();l&&(n.update_pending_count(1),v||(o.increment(),(d=u.get(o))==null||d.reject(Ye),u.set(o,s)));const p=(c,f=void 0)=>{v||o.activate(),f?f!==Ye&&(a.f|=ke,mt(a,f)):(a.f&ke&&(a.f^=ke),mt(a,c)),l&&(n.update_pending_count(-1),v||o.decrement()),jr()};s.promise.then(p,c=>p(null,c||"unknown"))}),rr(()=>{for(const s of u.values())s.reject(Ye)}),new Promise(s=>{function o(v){function p(){v===i?s(a):o(i)}v.then(p,p)}o(i)})}function Qt(e){const t=Xt(e);return t.equals=Mr,t}function qr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Oe(t[r])}}function ci(e){for(var t=e.parent;t!==null;){if(!(t.f&q))return t;t=t.parent}return null}function er(e){var t,r=x;ge(ci(e));try{qr(e),t=rn(e)}finally{ge(r)}return t}function Vr(e){var t=er(e);if(e.equals(t)||(e.v=t,e.wv=en()),!Ae){var r=(_e||e.f&H)&&e.deps!==null?me:F;j(e,r)}}const he=new Map;function Ze(e,t){var r={f:0,v:e,reactions:null,equals:Nr,rv:0,wv:0};return r}function de(e,t){const r=Ze(e);return Ei(r),r}function Y(e,t=!1,r=!0){var i;const n=Ze(e);return t||(n.equals=Mr),$e&&r&&N!==null&&N.l!==null&&((i=N.l).s??(i.s=[])).push(n),n}function C(e,t,r=!1){w!==null&&(!Q||w.f&fr)&&rt()&&w.f&(q|Te|kt|fr)&&!(L!=null&&L.includes(e))&&ti();let n=r?Ie(t):t;return mt(e,n)}function mt(e,t){if(!e.equals(t)){var r=e.v;Ae?he.set(e,t):he.set(e,r),e.v=t;var n=gt.ensure();n.capture(e,r),e.f&q&&(e.f&U&&er(e),j(e,e.f&H?me:F)),e.wv=en(),Br(e,U),rt()&&x!==null&&x.f&F&&!(x.f&(le|ze))&&(z===null?Pi([e]):z.push(e))}return t}function It(e){C(e,e.v+1)}function Br(e,t){var r=e.reactions;if(r!==null)for(var n=rt(),i=r.length,a=0;a<i;a++){var l=r[a],u=l.f;if(!(!n&&l===x)){var s=(u&U)===0;s&&j(l,t),u&q?Br(l,me):s&&(u&Te&&ne!==null&&ne.push(l),Se(l))}}}function Ie(e){if(typeof e!="object"||e===null||Ee in e)return e;const t=Tr(e);if(t!==Bn&&t!==Un)return e;var r=new Map,n=Wt(e),i=de(0),a=Pe,l=u=>{if(Pe===a)return u();var s=w,o=Pe;ee(null),gr(a);var v=u();return ee(s),gr(o),v};return n&&r.set("length",de(e.length)),new Proxy(e,{defineProperty(u,s,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&Qn();var v=r.get(s);return v===void 0?v=l(()=>{var p=de(o.value);return r.set(s,p),p}):C(v,o.value,!0),!0},deleteProperty(u,s){var o=r.get(s);if(o===void 0){if(s in u){const v=l(()=>de(D));r.set(s,v),It(i)}}else C(o,D),It(i);return!0},get(u,s,o){var c;if(s===Ee)return e;var v=r.get(s),p=s in u;if(v===void 0&&(!p||(c=ut(u,s))!=null&&c.writable)&&(v=l(()=>{var f=Ie(p?u[s]:D),_=de(f);return _}),r.set(s,v)),v!==void 0){var d=m(v);return d===D?void 0:d}return Reflect.get(u,s,o)},getOwnPropertyDescriptor(u,s){var o=Reflect.getOwnPropertyDescriptor(u,s);if(o&&"value"in o){var v=r.get(s);v&&(o.value=m(v))}else if(o===void 0){var p=r.get(s),d=p==null?void 0:p.v;if(p!==void 0&&d!==D)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return o},has(u,s){var d;if(s===Ee)return!0;var o=r.get(s),v=o!==void 0&&o.v!==D||Reflect.has(u,s);if(o!==void 0||x!==null&&(!v||(d=ut(u,s))!=null&&d.writable)){o===void 0&&(o=l(()=>{var c=v?Ie(u[s]):D,f=de(c);return f}),r.set(s,o));var p=m(o);if(p===D)return!1}return v},set(u,s,o,v){var h;var p=r.get(s),d=s in u;if(n&&s==="length")for(var c=o;c<p.v;c+=1){var f=r.get(c+"");f!==void 0?C(f,D):c in u&&(f=l(()=>de(D)),r.set(c+"",f))}if(p===void 0)(!d||(h=ut(u,s))!=null&&h.writable)&&(p=l(()=>de(void 0)),C(p,Ie(o)),r.set(s,p));else{d=p.v!==D;var _=l(()=>Ie(o));C(p,_)}var g=Reflect.getOwnPropertyDescriptor(u,s);if(g!=null&&g.set&&g.set.call(v,o),!d){if(n&&typeof s=="string"){var k=r.get("length"),b=Number(s);Number.isInteger(b)&&b>=k.v&&C(k,b+1)}It(i)}return!0},ownKeys(u){m(i);var s=Reflect.ownKeys(u).filter(p=>{var d=r.get(p);return d===void 0||d.v!==D});for(var[o,v]of r)v.v!==D&&!(o in u)&&s.push(o);return s},setPrototypeOf(){ei()}})}var vi,di,pi;function Tt(e=""){return document.createTextNode(e)}function tr(e){return di.call(e)}function Ct(e){return pi.call(e)}function y(e,t){return tr(e)}function dr(e,t=!1){{var r=tr(e);return r instanceof Comment&&r.data===""?Ct(r):r}}function T(e,t=1,r=!1){let n=e;for(;t--;)n=Ct(n);return n}function _i(e){e.textContent=""}function Ur(){return!1}let pr=!1;function hi(){pr||(pr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Ot(e){var t=w,r=x;ee(null),ge(null);try{return e()}finally{ee(t),ge(r)}}function gi(e,t,r,n=r){e.addEventListener(t,()=>Ot(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),hi()}function $r(e){x===null&&w===null&&Zn(),w!==null&&w.f&H&&x===null&&Gn(),Ae&&Yn()}function mi(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function se(e,t,r,n=!0){var i=x;i!==null&&i.f&G&&(e|=G);var a={ctx:N,deps:null,nodes_start:null,nodes_end:null,f:e|U,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Xe(a),a.f|=Gt}catch(s){throw Oe(a),s}else t!==null&&Se(a);if(n){var l=a;if(r&&l.deps===null&&l.teardown===null&&l.nodes_start===null&&l.first===l.last&&!(l.f&xt)&&(l=l.first),l!==null&&(l.parent=i,i!==null&&mi(l,i),w!==null&&w.f&q&&!(e&ze))){var u=w;(u.effects??(u.effects=[])).push(l)}}return a}function rr(e){const t=se(wt,null,!1);return j(t,F),t.teardown=e,t}function $t(e){$r();var t=x.f,r=!w&&(t&le)!==0&&(t&Gt)===0;if(r){var n=N;(n.e??(n.e=[])).push(e)}else return zr(e)}function zr(e){return se(Yt|Ar,e,!1)}function bi(e){return $r(),se(wt|Ar,e,!0)}function yi(e){return se(Yt,e,!1)}function wi(e){return se(kt|xt,e,!0)}function Hr(e,t=0){return se(wt|t,e,!0)}function zt(e,t=[],r=[]){oi(t,r,n=>{se(wt,()=>e(...n.map(m)),!0)})}function Kr(e,t=0){var r=se(Te|t,e,!0);return r}function bt(e,t=!0){return se(le|xt,e,!0,t)}function Wr(e){var t=e.teardown;if(t!==null){const r=Ae,n=w;hr(!0),ee(null);try{t.call(null)}finally{hr(r),ee(n)}}}function Yr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&Ot(()=>{i.abort(Ye)});var n=r.next;r.f&ze?r.parent=null:Oe(r,t),r=n}}function xi(e){for(var t=e.first;t!==null;){var r=t.next;t.f&le||Oe(t),t=r}}function Oe(e,t=!0){var r=!1;(t||e.f&zn)&&e.nodes_start!==null&&e.nodes_end!==null&&(ki(e.nodes_start,e.nodes_end),r=!0),Yr(e,t&&!r),yt(e,0),j(e,Ce);var n=e.transitions;if(n!==null)for(const a of n)a.stop();Wr(e);var i=e.parent;i!==null&&i.first!==null&&Gr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ki(e,t){for(;e!==null;){var r=e===t?null:Ct(e);e.remove(),e=r}}function Gr(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Zr(e,t){var r=[];nr(e,r,!0),Jr(r,()=>{Oe(e),t&&t()})}function Jr(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function nr(e,t,r){if(!(e.f&G)){if(e.f^=G,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var i=n.next,a=(n.f&Zt)!==0||(n.f&le)!==0;nr(n,t,a?r:!1),n=i}}}function ir(e){Xr(e,!0)}function Xr(e,t){if(e.f&G){e.f^=G,e.f&F||(j(e,U),Se(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Zt)!==0||(r.f&le)!==0;Xr(r,i?t:!1),r=n}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Le=!1;function _r(e){Le=e}let Ae=!1;function hr(e){Ae=e}let w=null,Q=!1;function ee(e){w=e}let x=null;function ge(e){x=e}let L=null;function Ei(e){w!==null&&(L===null?L=[e]:L.push(e))}let R=null,B=0,z=null;function Pi(e){z=e}let Qr=1,Je=0,Pe=Je;function gr(e){Pe=e}let _e=!1;function en(){return++Qr}function At(e){var p;var t=e.f;if(t&U)return!0;if(t&me){var r=e.deps,n=(t&H)!==0;if(r!==null){var i,a,l=(t&pt)!==0,u=n&&x!==null&&!_e,s=r.length;if((l||u)&&(x===null||!(x.f&Ce))){var o=e,v=o.parent;for(i=0;i<s;i++)a=r[i],(l||!((p=a==null?void 0:a.reactions)!=null&&p.includes(o)))&&(a.reactions??(a.reactions=[])).push(o);l&&(o.f^=pt),u&&v!==null&&!(v.f&H)&&(o.f^=H)}for(i=0;i<s;i++)if(a=r[i],At(a)&&Vr(a),a.wv>e.wv)return!0}(!n||x!==null&&!_e)&&j(e,F)}return!1}function tn(e,t,r=!0){var n=e.reactions;if(n!==null&&!(L!=null&&L.includes(e)))for(var i=0;i<n.length;i++){var a=n[i];a.f&q?tn(a,t,!1):t===a&&(r?j(a,U):a.f&F&&j(a,me),Se(a))}}function rn(e){var _;var t=R,r=B,n=z,i=w,a=_e,l=L,u=N,s=Q,o=Pe,v=e.f;R=null,B=0,z=null,_e=(v&H)!==0&&(Q||!Le||w===null),w=v&(le|ze)?null:e,L=null,_t(e.ctx),Q=!1,Pe=++Je,e.ac!==null&&(Ot(()=>{e.ac.abort(Ye)}),e.ac=null);try{e.f|=qt;var p=e.fn,d=p(),c=e.deps;if(R!==null){var f;if(yt(e,B),c!==null&&B>0)for(c.length=B+R.length,f=0;f<R.length;f++)c[B+f]=R[f];else e.deps=c=R;if(!_e||v&q&&e.reactions!==null)for(f=B;f<c.length;f++)((_=c[f]).reactions??(_.reactions=[])).push(e)}else c!==null&&B<c.length&&(yt(e,B),c.length=B);if(rt()&&z!==null&&!Q&&c!==null&&!(e.f&(q|me|U)))for(f=0;f<z.length;f++)tn(z[f],e);return i!==null&&i!==e&&(Je++,z!==null&&(n===null?n=z:n.push(...z))),e.f&ke&&(e.f^=ke),d}catch(g){return ai(g)}finally{e.f^=qt,R=t,B=r,z=n,w=i,_e=a,L=l,_t(u),Q=s,Pe=o}}function Si(e,t){let r=t.reactions;if(r!==null){var n=qn.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&t.f&q&&(R===null||!R.includes(t))&&(j(t,me),t.f&(H|pt)||(t.f^=pt),qr(t),yt(t,0))}function yt(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Si(e,r[n])}function Xe(e){var t=e.f;if(!(t&Ce)){j(e,F);var r=x,n=Le;x=e,Le=!0;try{t&Te?xi(e):Yr(e),Wr(e);var i=rn(e);e.teardown=typeof i=="function"?i:null,e.wv=Qr;var a;Pr&&An&&e.f&U&&e.deps}finally{Le=n,x=r}}}async function Ti(){await Promise.resolve(),li()}function m(e){var t=e.f,r=(t&q)!==0;if(w!==null&&!Q){var n=x!==null&&(x.f&Ce)!==0;if(!n&&!(L!=null&&L.includes(e))){var i=w.deps;if(w.f&qt)e.rv<Je&&(e.rv=Je,R===null&&i!==null&&i[B]===e?B++:R===null?R=[e]:(!_e||!R.includes(e))&&R.push(e));else{(w.deps??(w.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[w]:a.includes(w)||a.push(w)}}}else if(r&&e.deps===null&&e.effects===null){var l=e,u=l.parent;u!==null&&!(u.f&H)&&(l.f^=H)}if(Ae){if(he.has(e))return he.get(e);if(r){l=e;var s=l.v;return(!(l.f&F)&&l.reactions!==null||nn(l))&&(s=er(l)),he.set(l,s),s}}else r&&(l=e,At(l)&&Vr(l));if(e.f&ke)throw e.v;return e.v}function nn(e){if(e.v===D)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(he.has(t)||t.f&q&&nn(t))return!0;return!1}function nt(e){var t=Q;try{return Q=!0,e()}finally{Q=t}}const Ci=-7169;function j(e,t){e.f=e.f&Ci|t}function Oi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ee in e)Ht(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Ee in r&&Ht(r)}}}function Ht(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Ht(e[n],t)}catch{}const r=Tr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Vn(r);for(let i in n){const a=n[i].get;if(a)try{a.call(e)}catch{}}}}}const Ai=new Set,Ni=new Set;function Di(e,t,r,n={}){function i(a){if(n.capture||Mi.call(t,a),!a.cancelBubble)return Ot(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Jt(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function an(e,t,r,n,i){var a={capture:n,passive:i},l=Di(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&rr(()=>{t.removeEventListener(e,l,a)})}function Nt(e){for(var t=0;t<e.length;t++)Ai.add(e[t]);for(var r of Ni)r(e)}let mr=null;function Mi(e){var b;var t=this,r=t.ownerDocument,n=e.type,i=((b=e.composedPath)==null?void 0:b.call(e))||[],a=i[0]||e.target;mr=e;var l=0,u=mr===e&&e.__root;if(u){var s=i.indexOf(u);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var o=i.indexOf(t);if(o===-1)return;s<=o&&(l=s)}if(a=i[l]||e.target,a!==t){vt(e,"currentTarget",{configurable:!0,get(){return a||r}});var v=w,p=x;ee(null),ge(null);try{for(var d,c=[];a!==null;){var f=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+n];if(_!=null&&(!a.disabled||e.target===a))if(Wt(_)){var[g,...k]=_;g.apply(a,[e,...k])}else _.call(a,e)}catch(h){d?c.push(h):d=h}if(e.cancelBubble||f===t||f===null)break;a=f}if(d){for(let h of c)queueMicrotask(()=>{throw h});throw d}}finally{e.__root=t,delete e.currentTarget,ee(v),ge(p)}}}function Fi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ln(e,t){var r=x;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function V(e,t){var r=(t&jn)!==0,n,i=!e.startsWith("<!>");return()=>{n===void 0&&(n=Fi(i?e:"<!>"+e),n=tr(n));var a=r||vi?document.importNode(n,!0):n.cloneNode(!0);return ln(a,a),a}}function br(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Tt();return e.append(t,r),ln(t,r),e}function M(e,t){e!==null&&e.before(t)}function ie(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function sn(e){N===null&&Kn(),$e&&N.l!==null?Ii(N).m.push(e):$t(()=>{const t=nt(e);if(typeof t=="function")return t})}function Ii(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function ye(e,t,r=!1){var n=e,i=null,a=null,l=D,u=r?Zt:0,s=!1;const o=(c,f=!0)=>{s=!0,d(f,c)};var v=null;function p(){v!==null&&(v.lastChild.remove(),n.before(v),v=null);var c=l?i:a,f=l?a:i;c&&ir(c),f&&Zr(f,()=>{l?a=null:i=null})}const d=(c,f)=>{if(l!==(l=c)){var _=Ur(),g=n;if(_&&(v=document.createDocumentFragment(),v.append(g=Tt())),l?i??(i=f&&bt(()=>f(g))):a??(a=f&&bt(()=>f(g))),_){var k=S,b=l?i:a,h=l?a:i;b&&k.skipped_effects.delete(b),h&&k.skipped_effects.add(h),k.add_callback(p)}else p()}};Kr(()=>{s=!1,t(o),s||d(null,null)},u)}function on(e,t){return t}function Ri(e,t,r){for(var n=e.items,i=[],a=t.length,l=0;l<a;l++)nr(t[l].e,i,!0);var u=a>0&&i.length===0&&r!==null;if(u){var s=r.parentNode;_i(s),s.append(r),n.clear(),J(e,t[0].prev,t[a-1].next)}Jr(i,()=>{for(var o=0;o<a;o++){var v=t[o];u||(n.delete(v.k),J(e,v.prev,v.next)),Oe(v.e,!u)}})}function un(e,t,r,n,i,a=null){var l=e,u={flags:t,items:new Map,first:null};{var s=e;l=s.appendChild(Tt())}var o=null,v=!1,p=new Map,d=Qt(()=>{var g=r();return Wt(g)?g:g==null?[]:Sr(g)}),c,f;function _(){Li(f,c,u,p,l,i,t,n,r),a!==null&&(c.length===0?o?ir(o):o=bt(()=>a(l)):o!==null&&Zr(o,()=>{o=null}))}Kr(()=>{f??(f=x),c=m(d);var g=c.length;if(!(v&&g===0)){v=g===0;var k,b,h,E;if(Ur()){var O=new Set,Z=S;for(b=0;b<g;b+=1){h=c[b],E=n(h,b);var oe=u.items.get(E)??p.get(E);oe?fn(oe,h,b):(k=cn(null,u,null,null,h,E,b,i,t,r,!0),p.set(E,k)),O.add(E)}for(const[W,I]of u.items)O.has(W)||Z.skipped_effects.add(I.e);Z.add_callback(_)}else _();m(d)}})}function Li(e,t,r,n,i,a,l,u,s){var o=t.length,v=r.items,p=r.first,d=p,c,f=null,_=[],g=[],k,b,h,E;for(E=0;E<o;E+=1){if(k=t[E],b=u(k,E),h=v.get(b),h===void 0){var O=n.get(b);if(O!==void 0){n.delete(b),v.set(b,O);var Z=f?f.next:d;J(r,f,O),J(r,O,Z),Rt(O,Z,i),f=O}else{var oe=d?d.e.nodes_start:i;f=cn(oe,r,f,f===null?r.first:f.next,k,b,E,a,l,s)}v.set(b,f),_=[],g=[],d=f.next;continue}if(fn(h,k,E),h.e.f&G&&ir(h.e),h!==d){if(c!==void 0&&c.has(h)){if(_.length<g.length){var W=g[0],I;f=W.prev;var be=_[0],ue=_[_.length-1];for(I=0;I<_.length;I+=1)Rt(_[I],W,i);for(I=0;I<g.length;I+=1)c.delete(g[I]);J(r,be.prev,ue.next),J(r,f,be),J(r,ue,W),d=W,f=ue,E-=1,_=[],g=[]}else c.delete(h),Rt(h,d,i),J(r,h.prev,h.next),J(r,h,f===null?r.first:f.next),J(r,f,h),f=h;continue}for(_=[],g=[];d!==null&&d.k!==b;)d.e.f&G||(c??(c=new Set)).add(d),g.push(d),d=d.next;if(d===null)continue;h=d}_.push(h),f=h,d=h.next}if(d!==null||c!==void 0){for(var te=c===void 0?[]:Sr(c);d!==null;)d.e.f&G||te.push(d),d=d.next;var A=te.length;if(A>0){var re=o===0?i:null;Ri(r,te,re)}}e.first=r.first&&r.first.e,e.last=f&&f.e;for(var it of n.values())Oe(it.e);n.clear()}function fn(e,t,r,n){mt(e.v,t),e.i=r}function cn(e,t,r,n,i,a,l,u,s,o,v){var p=(s&Dn)!==0,d=(s&Fn)===0,c=p?d?Y(i,!1,!1):Ze(i):i,f=s&Mn?Ze(l):l,_={i:f,v:c,k:a,a:null,e:null,prev:r,next:n};try{if(e===null){var g=document.createDocumentFragment();g.append(e=Tt())}return _.e=bt(()=>u(e,c,f,o),ri),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?v||(t.first=_):(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{}}function Rt(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,a=e.e.nodes_start;a!==null&&a!==n;){var l=Ct(a);i.before(a),a=l}}function J(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function We(e,t,r=t){var n=new WeakSet;gi(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Lt(e)?jt(a):a,r(a),S!==null&&n.add(S),await Ti(),a!==(a=t())){var l=e.selectionStart,u=e.selectionEnd;e.value=a??"",u!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(u,e.value.length))}}),nt(t)==null&&e.value&&(r(Lt(e)?jt(e.value):e.value),S!==null&&n.add(S)),Hr(()=>{var i=t();if(e===document.activeElement){var a=ft??S;if(n.has(a))return}Lt(e)&&i===jt(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Lt(e){var t=e.type;return t==="number"||t==="range"}function jt(e){return e===""?null:+e}function yr(e,t){return e===t||(e==null?void 0:e[Ee])===t}function ji(e={},t,r,n){return yi(()=>{var i,a;return Hr(()=>{i=a,a=[],nt(()=>{e!==r(...a)&&(t(e,...a),i&&yr(r(...i),e)&&t(null,...i))})}),()=>{Jt(()=>{a&&yr(r(...a),e)&&t(null,...a)})}}),e}function Dt(e=!1){const t=N,r=t.l.u;if(!r)return;let n=()=>Oi(t.s);if(e){let i=0,a={};const l=Xt(()=>{let u=!1;const s=t.s;for(const o in s)s[o]!==a[o]&&(a[o]=s[o],u=!0);return u&&i++,i});n=()=>m(l)}r.b.length&&bi(()=>{wr(t,n),dt(r.b)}),$t(()=>{const i=nt(()=>r.m.map($n));return()=>{for(const a of i)typeof a=="function"&&a()}}),r.a.length&&$t(()=>{wr(t,n),dt(r.a)})}function wr(e,t){if(e.l.s)for(const r of e.l.s)m(r);t()}function ar(e,t,r){if(e==null)return t(void 0),r&&r(void 0),ae;const n=nt(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Fe=[];function qi(e,t){return{subscribe:vn(e,t).subscribe}}function vn(e,t=ae){let r=null;const n=new Set;function i(u){if(Dr(e,u)&&(e=u,r)){const s=!Fe.length;for(const o of n)o[1](),Fe.push(o,e);if(s){for(let o=0;o<Fe.length;o+=2)Fe[o][0](Fe[o+1]);Fe.length=0}}}function a(u){i(u(e))}function l(u,s=ae){const o=[u,s];return n.add(o),n.size===1&&(r=t(i,a)||ae),u(e),()=>{n.delete(o),n.size===0&&r&&(r(),r=null)}}return{set:i,update:a,subscribe:l}}function Vi(e,t,r){const n=!Array.isArray(e),i=n?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return qi(r,(l,u)=>{let s=!1;const o=[];let v=0,p=ae;const d=()=>{if(v)return;p();const f=t(n?o[0]:o,l,u);a?l(f):p=typeof f=="function"?f:ae},c=i.map((f,_)=>ar(f,g=>{o[_]=g,v&=~(1<<_),s&&d()},()=>{v|=1<<_}));return s=!0,d(),function(){dt(c),p(),s=!1}})}function Bi(e){let t;return ar(e,r=>t=r)(),t}let ot=!1,Kt=Symbol();function Ui(e,t,r){const n=r[t]??(r[t]={store:null,source:Y(void 0),unsubscribe:ae});if(n.store!==e&&!(Kt in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=ae;else{var i=!0;n.unsubscribe=ar(e,a=>{i?n.source.v=a:C(n.source,a)}),i=!1}return e&&Kt in r?Bi(e):m(n.source)}function $i(){const e={};function t(){rr(()=>{for(var r in e)e[r].unsubscribe();vt(e,Kt,{enumerable:!1,value:!0})})}return[e,t]}function zi(e){var t=ot;try{return ot=!1,[e(),ot]}finally{ot=t}}function xr(e,t,r,n){var b;var i=!$e||(r&In)!==0,a=(r&Ln)!==0,l=n,u=!0,s=()=>(u&&(u=!1,l=n),l),o;{var v=Ee in e||Hn in e;o=((b=ut(e,t))==null?void 0:b.set)??(v&&t in e?h=>e[t]=h:void 0)}var p,d=!1;[p,d]=zi(()=>e[t]),p===void 0&&n!==void 0&&(p=s(),o&&(i&&Xn(),o(p)));var c;if(i?c=()=>{var h=e[t];return h===void 0?s():(u=!0,h)}:c=()=>{var h=e[t];return h!==void 0&&(l=void 0),h===void 0?l:h},i&&!(r&Rn))return c;if(o){var f=e.$$legacy;return function(h,E){return arguments.length>0?((!i||!E||f||d)&&o(E?c():h),h):c()}}var _=!1,g=Qt(()=>(_=!1,c()));m(g);var k=x;return function(h,E){if(arguments.length>0){const O=E?m(g):i&&a?Ie(h):h;return C(g,O),_=!0,l!==void 0&&(l=O),h}return Ae&&_||k.f&Ce?g.v:m(g)}}function Hi(e){const t=e.weight/100*e.proteinPer100g,r=t>0?e.price/t:1/0;return{...e,totalProtein:Math.round(t*10)/10,pricePerGramProtein:Math.round(r*100)/100}}function Ki(e){return e.sort((t,r)=>t.pricePerGramProtein-r.pricePerGramProtein).map((t,r)=>({...t,rank:r+1}))}function kr(e){return new Intl.NumberFormat("cs-CZ",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function Wi(e){return e>=1e3?`${(e/1e3).toFixed(1)} kg`:`${e} g`}function Yi(){const{subscribe:e,set:t,update:r}=vn([]),n=()=>{if(typeof window<"u"){const a=localStorage.getItem("products");if(a)try{const l=JSON.parse(a);t(l)}catch(l){console.error("Failed to load products from storage:",l)}}},i=a=>{typeof window<"u"&&localStorage.setItem("products",JSON.stringify(a))};return{subscribe:e,add:a=>r(l=>{const u=[...l,{...a,id:a.id||crypto.randomUUID(),createdAt:new Date}];return i(u),u}),remove:a=>r(l=>{const u=l.filter(s=>s.id!==a);return i(u),u}),clear:()=>{t([]),typeof window<"u"&&localStorage.removeItem("products")},loadFromStorage:n,set:a=>{t(a),i(a)}}}const He=Yi(),Gi=Vi(He,e=>Ki(e.map(t=>Hi(t))));function Zi(e,t){e.target===e.currentTarget&&t()()}var Ji=V('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-bold text-gray-900">Přidat nový produkt</h2> <button class="text-gray-400 hover:text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <form class="space-y-4"><div><label for="name" class="block text-sm font-medium text-gray-700 mb-1">Název produktu</label> <input type="text" id="name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="např. Tvaroh Pilos" required/></div> <div class="grid grid-cols-2 gap-4"><div><label for="price" class="block text-sm font-medium text-gray-700 mb-1">Cena (Kč)</label> <input type="number" id="price" step="0.01" min="0" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="36.90" required/></div> <div><label for="weight" class="block text-sm font-medium text-gray-700 mb-1">Hmotnost (g)</label> <input type="number" id="weight" min="1" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="250" required/></div></div> <div><label for="protein" class="block text-sm font-medium text-gray-700 mb-1">Bílkoviny na 100g</label> <input type="number" id="protein" step="0.1" min="0" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="12.5" required/></div> <div class="flex gap-3 mt-6"><button type="button" class="flex-1 py-2 px-4 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors">Zrušit</button> <button type="submit" class="flex-1 py-2 px-4 border border-transparent rounded-md text-white bg-primary hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors">Přidat produkt</button></div></form></div></div>');function Xi(e,t){var I,be,ue,te;Et(t,!1);let r=xr(t,"onclose",8),n=xr(t,"initialProduct",8,null),i=Y(((I=n())==null?void 0:I.name)||""),a=Y(((be=n())==null?void 0:be.price)||null),l=Y(((ue=n())==null?void 0:ue.weight)||null),u=Y(((te=n())==null?void 0:te.proteinPer100g)||null);function s(){if(!m(i)||!m(a)||!m(l)||!m(u)){alert("Vyplňte prosím všechna pole");return}const A={id:crypto.randomUUID(),name:m(i),price:Number(m(a)),weight:Number(m(l)),proteinPer100g:Number(m(u)),isFromDatabase:!1};He.add(A),r()()}Dt();var o=Ji();o.__click=[Zi,r];var v=y(o),p=y(v),d=T(y(p),2);d.__click=function(...A){var re;(re=r())==null||re.apply(this,A)};var c=T(p,2),f=y(c),_=T(y(f),2),g=T(f,2),k=y(g),b=T(y(k),2),h=T(k,2),E=T(y(h),2),O=T(g,2),Z=T(y(O),2),oe=T(O,2),W=y(oe);W.__click=function(...A){var re;(re=r())==null||re.apply(this,A)},an("submit",c,A=>{A.preventDefault(),s()}),We(_,()=>m(i),A=>C(i,A)),We(b,()=>m(a),A=>C(a,A)),We(E,()=>m(l),A=>C(l,A)),We(Z,()=>m(u),A=>C(u,A)),M(e,o),Pt()}Nt(["click"]);function Qi(){confirm("Opravdu chcete vymazat všechny produkty?")&&He.clear()}var ea=V('<button class="text-sm text-red-600 hover:text-red-800 transition-colors">Vymazat vše</button>'),ta=V('<div class="px-4 py-12 text-center"><svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">Žádné produkty</h3> <p class="mt-1 text-sm text-gray-500">Začněte přidáním prvního produktu k porovnání.</p></div>'),ra=V('<span class="text-2xl">🏆</span>'),na=V('<span class="text-2xl">🥈</span>'),ia=V('<span class="text-2xl">🥉</span>'),aa=V('<span class="text-lg font-semibold text-gray-500 w-7"></span>'),la=(e,t,r)=>t(m(r).id),sa=V('<div class="px-4 py-4 hover:bg-gray-50 transition-colors"><div class="flex items-center justify-between"><div class="flex-1"><div class="flex items-center gap-3"><!> <div class="flex-1"><h3 class="text-base font-medium text-gray-900"> </h3> <div class="mt-1 flex flex-wrap gap-4 text-sm text-gray-600"><span> </span> <span> </span> <span> </span> <span> </span></div></div></div></div> <div class="flex items-center gap-4"><div class="text-right"><div class="text-2xl font-bold text-primary"> </div> <div class="text-xs text-gray-500">za 1g proteinu</div></div> <button class="text-red-500 hover:text-red-700 transition-colors p-2" aria-label="Odebrat produkt"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></button></div></div></div>'),oa=V('<div class="divide-y divide-gray-200"></div>'),ua=V('<div class="bg-white rounded-lg shadow"><div class="px-4 py-3 border-b border-gray-200 flex items-center justify-between"><h2 class="text-lg font-semibold text-gray-900"> </h2> <!></div> <!></div>');function fa(e,t){Et(t,!1);const r=()=>Ui(Gi,"$calculatedProducts",n),[n,i]=$i();function a(_){confirm("Opravdu chcete odebrat tento produkt?")&&He.remove(_)}Dt();var l=ua(),u=y(l),s=y(u),o=y(s),v=T(s,2);{var p=_=>{var g=ea();g.__click=[Qi],M(_,g)};ye(v,_=>{r().length>0&&_(p)})}var d=T(u,2);{var c=_=>{var g=ta();M(_,g)},f=_=>{var g=oa();un(g,5,r,on,(k,b,h)=>{var E=sa(),O=y(E),Z=y(O),oe=y(Z),W=y(oe);{var I=fe=>{var Ne=ra();M(fe,Ne)},be=fe=>{var Ne=br(),Mt=dr(Ne);{var xn=De=>{var at=na();M(De,at)},kn=De=>{var at=br(),En=dr(at);{var Pn=Me=>{var lt=ia();M(Me,lt)},Sn=Me=>{var lt=aa();lt.textContent=`#${h+1}`,M(Me,lt)};ye(En,Me=>{h===2?Me(Pn):Me(Sn,!1)},!0)}M(De,at)};ye(Mt,De=>{h===1?De(xn):De(kn,!1)},!0)}M(fe,Ne)};ye(W,fe=>{h===0?fe(I):fe(be,!1)})}var ue=T(W,2),te=y(ue),A=y(te),re=T(te,2),it=y(re),dn=y(it),lr=T(it,2),pn=y(lr),sr=T(lr,2),_n=y(sr),hn=T(sr,2),gn=y(hn),mn=T(Z,2),or=y(mn),bn=y(or),yn=y(bn),wn=T(or,2);wn.__click=[la,a,b],zt((fe,Ne,Mt)=>{ie(A,m(b).name),ie(dn,`Cena: ${fe??""} Kč`),ie(pn,`Hmotnost: ${Ne??""}`),ie(_n,`Protein: ${m(b).proteinPer100g??""}g/100g`),ie(gn,`Celkem: ${m(b).totalProtein??""}g proteinu`),ie(yn,`${Mt??""} Kč`)},[()=>kr(m(b).price),()=>Wi(m(b).weight),()=>kr(m(b).pricePerGramProtein)]),M(k,E)}),M(_,g)};ye(d,_=>{r().length===0?_(c):_(f,!1)})}zt(()=>ie(o,`Porovnání produktů (${r().length??""})`)),M(e,l),Pt(),i()}Nt(["click"]);const ca=[{id:"db-1",name:"Tvaroh polotučný Pilos",price:36.9,weight:250,proteinPer100g:12.5,category:"dairy"},{id:"db-2",name:"Kuřecí prsa",price:159.9,weight:500,proteinPer100g:23,category:"meat"},{id:"db-3",name:"Řecký jogurt 0% Milko",price:24.9,weight:140,proteinPer100g:10,category:"dairy"},{id:"db-4",name:"Cottage cheese Pribináček",price:29.9,weight:200,proteinPer100g:11,category:"dairy"},{id:"db-5",name:"Červená čočka",price:39.9,weight:500,proteinPer100g:25,category:"legumes"},{id:"db-6",name:"Fazole bílé",price:34.9,weight:500,proteinPer100g:21,category:"legumes"},{id:"db-7",name:"Proteinová tyčinka Nutrend",price:45,weight:55,proteinPer100g:36,category:"supplements"},{id:"db-8",name:"Whey protein MyProtein",price:599,weight:1e3,proteinPer100g:82,category:"supplements"},{id:"db-9",name:"Vejce M (10ks)",price:54.9,weight:530,proteinPer100g:13,category:"other"},{id:"db-10",name:"Tuňák ve vlastní šťávě",price:44.9,weight:160,proteinPer100g:26,category:"fish"},{id:"db-11",name:"Arašídové máslo 100%",price:89.9,weight:340,proteinPer100g:25,category:"nuts"},{id:"db-12",name:"Skyr natural Pilos",price:24.9,weight:150,proteinPer100g:11,category:"dairy"},{id:"db-13",name:"Hovězí mleté maso",price:189.9,weight:500,proteinPer100g:20,category:"meat"},{id:"db-14",name:"Sójové boby",price:49.9,weight:500,proteinPer100g:36,category:"legumes"},{id:"db-15",name:"Losos filety",price:249.9,weight:300,proteinPer100g:20,category:"fish"}],va={products:ca};function da(e,t,r,n){if(m(t).length<2){C(r,[]);return}const i=m(t).toLowerCase();C(r,va.products.filter(a=>a.name.toLowerCase().includes(i))),C(n,m(r).length>0)}var pa=(e,t,r)=>t(m(r)),_a=V('<button class="w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none transition-colors border-b border-gray-100 last:border-b-0"><div class="font-medium text-gray-900"> </div> <div class="text-sm text-gray-600 mt-1"> </div></button>'),ha=V('<div class="absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto"></div>'),ga=V('<div class="relative"><div class="relative"><input type="text" placeholder="Vyhledat produkt v databázi..." class="w-full px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"/> <svg xmlns="http://www.w3.org/2000/svg" class="absolute right-3 top-3.5 h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <!></div>');function ma(e,t){Et(t,!1);let r=Y(""),n=Y([]),i=Y(!1),a=Y();function l(c){He.add({...c,id:crypto.randomUUID(),isFromDatabase:!0}),C(r,""),C(n,[]),C(i,!1)}function u(c){m(a)&&!m(a).contains(c.target)&&C(i,!1)}sn(()=>(document.addEventListener("click",u),()=>{document.removeEventListener("click",u)})),Dt();var s=ga(),o=y(s),v=y(o);v.__input=[da,r,n,i],ji(v,c=>C(a,c),()=>m(a));var p=T(o,2);{var d=c=>{var f=ha();un(f,5,()=>m(n),on,(_,g)=>{var k=_a();k.__click=[pa,l,g];var b=y(k),h=y(b),E=T(b,2),O=y(E);zt(()=>{ie(h,m(g).name),ie(O,`${m(g).price??""} Kč | ${m(g).weight??""}g | ${m(g).proteinPer100g??""}g proteinu/100g`)}),M(_,k)}),M(c,f)};ye(p,c=>{m(i)&&m(n).length>0&&c(d)})}an("focus",v,()=>m(n).length>0&&C(i,!0)),We(v,()=>m(r),c=>C(r,c)),M(e,s),Pt()}Nt(["input","click"]);var ba=(e,t)=>C(t,!0),ya=V('<main class="min-h-screen bg-gray-50"><header class="bg-white shadow-sm border-b"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900">🥩 Protein Hunter</h1> <p class="text-sm text-gray-600 mt-1">Najděte nejlepší poměr proteinu a ceny</p></div> <button class="bg-primary hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow-sm transition-colors flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path></svg> Přidat produkt</button></div></div></header> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"><!> <div class="mt-6"><!></div></div> <!></main>');function wa(e,t){Et(t,!1);let r=Y(!1);sn(()=>{He.loadFromStorage()}),Dt();var n=ya(),i=y(n),a=y(i),l=y(a),u=T(y(l),2);u.__click=[ba,r];var s=T(i,2),o=y(s);ma(o,{});var v=T(o,2),p=y(v);fa(p,{});var d=T(s,2);{var c=f=>{Xi(f,{onclose:()=>C(r,!1)})};ye(d,f=>{m(r)&&f(c)})}M(e,n),Pt()}Nt(["click"]);new wa({target:document.getElementById("app")});
