<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Protein Hunter - Najdƒõte nejlep≈°√≠ pomƒõr proteinu a ceny</title>
    <meta name="description" id="pageDescription" content="Porovn√°n√≠ 45+ potravin podle ceny za gram proteinu. Recepty, kalkulaƒçka a slovn√≠k protein≈Ø. Najdƒõte nejlevnƒõj≈°√≠ zdroje b√≠lkovin pro fitness a zdrav√≠.">
    <meta name="keywords" id="pageKeywords" content="protein, b√≠lkoviny, cena proteinu, nejlevnƒõj≈°√≠ protein, fitness recepty, proteinov√© potraviny">
    
    <!-- Open Graph -->
    <meta property="og:title" id="ogTitle" content="Protein Hunter - Najdƒõte nejlep≈°√≠ pomƒõr proteinu a ceny">
    <meta property="og:description" id="ogDescription" content="Porovn√°n√≠ 45+ potravin podle ceny za gram proteinu. Recepty a kalkulaƒçka protein≈Ø.">
    <meta property="og:type" content="website">
    <meta property="og:url" id="ogUrl" content="http://46.62.166.240/protein-hunter/seo.html">
    <meta property="og:image" content="http://46.62.166.240/protein-hunter/og-image.jpg">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json" id="structuredData">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Protein Hunter",
      "description": "Datab√°ze potravin s porovn√°n√≠m ceny za gram proteinu",
      "url": "http://46.62.166.240/protein-hunter/"
    }
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#10b981',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/protein-hunter/" onclick="navigateTo('/'); return false;" class="text-xl font-bold text-primary">ü•© Protein Hunter</a>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/protein-hunter/produkty" onclick="navigateTo('/produkty'); return false;" class="text-gray-700 hover:text-primary transition-colors">Produkty</a>
                    <a href="/protein-hunter/recepty" onclick="navigateTo('/recepty'); return false;" class="text-gray-700 hover:text-primary transition-colors">Recepty</a>
                    <a href="/protein-hunter/slovnik" onclick="navigateTo('/slovnik'); return false;" class="text-gray-700 hover:text-primary transition-colors">Slovn√≠k</a>
                    <a href="/protein-hunter/kalkulacka" onclick="navigateTo('/kalkulacka'); return false;" class="text-gray-700 hover:text-primary transition-colors">Kalkulaƒçka</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Breadcrumbs -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
        <nav class="text-sm" id="breadcrumbs">
            <span class="text-gray-500">Dom≈Ø</span>
        </nav>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6" id="mainContent">
        <!-- Content will be dynamically loaded here -->
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">Protein Hunter</h3>
                    <p class="text-gray-300">Najdƒõte nejlep≈°√≠ pomƒõr proteinu a ceny z 45+ potravin.</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Produkty</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" onclick="showCategory('dairy')" class="hover:text-white">Ml√©ƒçn√© v√Ωrobky</a></li>
                        <li><a href="#" onclick="showCategory('meat')" class="hover:text-white">Maso</a></li>
                        <li><a href="#" onclick="showCategory('fish')" class="hover:text-white">Ryby</a></li>
                        <li><a href="#" onclick="showCategory('legumes')" class="hover:text-white">Lu≈°tƒõniny</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Recepty</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" onclick="showRecipeCategory('breakfast')" class="hover:text-white">Sn√≠danƒõ</a></li>
                        <li><a href="#" onclick="showRecipeCategory('lunch')" class="hover:text-white">Obƒõdy</a></li>
                        <li><a href="#" onclick="showRecipeCategory('dinner')" class="hover:text-white">Veƒçe≈ôe</a></li>
                        <li><a href="#" onclick="showRecipeCategory('snacks')" class="hover:text-white">Svaƒçiny</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Zdroje</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" onclick="showDictionary()" class="hover:text-white">Slovn√≠k pojm≈Ø</a></li>
                        <li><a href="#" onclick="showCalculator()" class="hover:text-white">Protein kalkulaƒçka</a></li>
                        <li><a href="#" onclick="showComparisons()" class="hover:text-white">Porovn√°n√≠</a></li>
                        <li><a href="#" onclick="showComparisonSelector()" class="hover:text-white">Vybrat produkty</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-300">
                <p>&copy; 2025 Protein Hunter. V≈°echna pr√°va vyhrazena.</p>
            </div>
        </div>
    </footer>

    <script>
        // Load external data
        let productsData = [];
        let recipesData = [];
        let dictionaryData = [];
        
        // Load recipes data
        const recipesDatabase = {
            "recipes": [
                {
                    "id": "r-1",
                    "title": "Proteinov√© palaƒçinky s tvarohem",
                    "slug": "proteinove-palacinky-s-tvarohem",
                    "description": "Rychl√© a zdrav√© palaƒçinky s vysok√Ωm obsahem b√≠lkovin - ide√°ln√≠ sn√≠danƒõ pro sportovce",
                    "category": "breakfast",
                    "difficulty": "easy",
                    "prepTime": 10,
                    "cookTime": 15,
                    "totalTime": 25,
                    "servings": 4,
                    "protein": 28.5,
                    "calories": 320,
                    "ingredients": [
                        {"name": "Tvaroh polotuƒçn√Ω", "amount": 200, "unit": "g", "protein": 25.0},
                        {"name": "Vejce", "amount": 2, "unit": "ks", "protein": 13.8},
                        {"name": "Ovesn√© vloƒçky", "amount": 40, "unit": "g", "protein": 5.2}
                    ],
                    "instructions": [
                        "Rozmixujte tvaroh, vejce, ovesn√© vloƒçky, ml√©ko a ban√°n na hladk√© tƒõsto",
                        "Nechte tƒõsto 5 minut odpoƒçinout",
                        "Sma≈æte na p√°nvi z obou stran"
                    ],
                    "tags": ["vysok√Ω protein", "sn√≠danƒõ", "fitness"],
                    "seoKeywords": ["proteinov√© palaƒçinky", "fitness sn√≠danƒõ"]
                },
                {
                    "id": "r-2",
                    "title": "Proteinov√© smoothie s whey proteinem",
                    "slug": "proteinove-smoothie-s-whey-proteinem",
                    "description": "Rychl√Ω proteinov√Ω n√°poj ide√°ln√≠ po tr√©ninku",
                    "category": "beverages",
                    "difficulty": "easy",
                    "prepTime": 5,
                    "cookTime": 0,
                    "totalTime": 5,
                    "servings": 1,
                    "protein": 35.0,
                    "calories": 280,
                    "ingredients": [
                        {"name": "Whey protein", "amount": 30, "unit": "g", "protein": 24.6},
                        {"name": "Ban√°n", "amount": 1, "unit": "ks", "protein": 1.1},
                        {"name": "Ml√©ko", "amount": 250, "unit": "ml", "protein": 8.25}
                    ],
                    "instructions": [
                        "V≈°echny ingredience vlo≈æte do mixeru",
                        "Mixujte 30-60 sekund do hladka",
                        "Nalijte do sklenice a ihned podejte"
                    ],
                    "tags": ["rychl√©", "po tr√©ninku", "whey protein"],
                    "seoKeywords": ["proteinov√© smoothie", "whey smoothie"]
                }
            ]
        };
        
        // Process recipes data
        recipesData = recipesDatabase.recipes;
        
        // Complete products database with SEO-optimized slugs
        const productsDatabase = [
            { id: 1, name: "Tvaroh polotuƒçn√Ω Pilos", price: 36.90, weight: 250, proteinPer100g: 12.5, category: "dairy", slug: "tvaroh-polotucny-pilos", description: "Polotuƒçn√Ω tvaroh s 12.5g proteinu na 100g" },
            { id: 2, name: "Ku≈ôec√≠ prsa", price: 159.90, weight: 500, proteinPer100g: 23.0, category: "meat", slug: "kureci-prsa", description: "ƒåerstv√° ku≈ôec√≠ prsa s vysok√Ωm obsahem proteinu" },
            { id: 3, name: "≈òeck√Ω jogurt 0% Milko", price: 24.90, weight: 140, proteinPer100g: 10.0, category: "dairy", slug: "recky-jogurt-0-milko", description: "≈òeck√Ω jogurt bez tuku s 10g proteinu" },
            { id: 4, name: "Cottage cheese Pribin√°ƒçek", price: 29.90, weight: 200, proteinPer100g: 11.0, category: "dairy", slug: "cottage-cheese-pribinacek", description: "Cottage cheese s 11g proteinu na 100g" },
            { id: 5, name: "ƒåerven√° ƒçoƒçka", price: 39.90, weight: 500, proteinPer100g: 25.0, category: "legumes", slug: "cervena-cocka", description: "ƒåerven√° ƒçoƒçka such√° s 25g proteinu" },
            { id: 6, name: "Fazole b√≠l√©", price: 34.90, weight: 500, proteinPer100g: 21.0, category: "legumes", slug: "fazole-bile", description: "B√≠l√© fazole such√© s 21g proteinu" },
            { id: 7, name: "Proteinov√° tyƒçinka Nutrend", price: 45.00, weight: 55, proteinPer100g: 36.0, category: "supplements", slug: "proteinova-tycinka-nutrend", description: "Proteinov√° tyƒçinka s 36g proteinu na 100g" },
            { id: 8, name: "Whey protein MyProtein", price: 599.00, weight: 1000, proteinPer100g: 82.0, category: "supplements", slug: "whey-protein-myprotein", description: "Syrov√°tkov√Ω protein s 82g proteinu na 100g" },
            { id: 9, name: "Vejce M (10ks)", price: 54.90, weight: 530, proteinPer100g: 13.0, category: "other", slug: "vejce-m-10ks", description: "ƒåerstv√° vejce velikost M, 10 kus≈Ø" },
            { id: 10, name: "Tu≈à√°k ve vlastn√≠ ≈°≈•√°vƒõ", price: 44.90, weight: 160, proteinPer100g: 26.0, category: "fish", slug: "tunak-vlastni-stava", description: "Tu≈à√°k konzervovan√Ω ve vlastn√≠ ≈°≈•√°vƒõ" },
            { id: 11, name: "Ara≈°√≠dov√© m√°slo 100%", price: 89.90, weight: 340, proteinPer100g: 25.0, category: "nuts", slug: "arasidove-maslo-100", description: "100% ara≈°√≠dov√© m√°slo bez p≈ôidan√Ωch l√°tek" },
            { id: 12, name: "Skyr natural Pilos", price: 24.90, weight: 150, proteinPer100g: 11.0, category: "dairy", slug: "skyr-natural-pilos", description: "Islandsk√Ω skyr s 11g proteinu" },
            { id: 13, name: "Hovƒõz√≠ mlet√© maso", price: 189.90, weight: 500, proteinPer100g: 20.0, category: "meat", slug: "hovezi-mlete-maso", description: "ƒåerstv√© hovƒõz√≠ mlet√© maso" },
            { id: 14, name: "S√≥jov√© boby", price: 49.90, weight: 500, proteinPer100g: 36.0, category: "legumes", slug: "sojove-boby", description: "S√≥jov√© boby such√© s 36g proteinu" },
            { id: 15, name: "Losos filety", price: 249.90, weight: 300, proteinPer100g: 20.0, category: "fish", slug: "losos-filety", description: "ƒåerstv√© lososov√© filety" },
            { id: 16, name: "Tvaroh odtuƒçnƒõn√Ω Billa", price: 34.90, weight: 250, proteinPer100g: 14.0, category: "dairy", slug: "tvaroh-odtucneny-billa", description: "Odtuƒçnƒõn√Ω tvaroh s 14g proteinu" },
            { id: 17, name: "Eidam 30% pl√°tky Albert", price: 42.90, weight: 100, proteinPer100g: 27.0, category: "dairy", slug: "eidam-30-platky-albert", description: "Eidam 30% tuku v pl√°tkach" },
            { id: 18, name: "Kr≈Øt√≠ prsa", price: 179.90, weight: 500, proteinPer100g: 24.0, category: "meat", slug: "kruti-prsa", description: "ƒåerstv√° kr≈Øt√≠ prsa s 24g proteinu" },
            { id: 19, name: "Vep≈ôov√° panenka", price: 149.90, weight: 400, proteinPer100g: 21.0, category: "meat", slug: "veprova-panenka", description: "Vep≈ôov√° panenka - nejchutnƒõj≈°√≠ ƒç√°st" },
            { id: 20, name: "Mozzarella light Galbani", price: 37.90, weight: 125, proteinPer100g: 19.0, category: "dairy", slug: "mozzarella-light-galbani", description: "Lehk√° mozzarella s 19g proteinu" },
            { id: 21, name: "Quinoa", price: 89.90, weight: 500, proteinPer100g: 14.0, category: "other", slug: "quinoa", description: "Pseudocere√°lie quinoa s kompletn√≠m aminokyselinov√Ωm profilem" },
            { id: 22, name: "Tofu natural Lunter", price: 49.90, weight: 180, proteinPer100g: 15.0, category: "other", slug: "tofu-natural-lunter", description: "P≈ô√≠rodn√≠ tofu z ƒçesk√Ωch s√≥jov√Ωch bob≈Ø" },
            { id: 23, name: "Sardinkov√Ω filety v oleji", price: 32.90, weight: 125, proteinPer100g: 25.0, category: "fish", slug: "sardinkove-filety-olej", description: "Sardinkov√© filety konzervovan√© v oleji" },
            { id: 24, name: "≈†unka od kosti 95% masa", price: 44.90, weight: 100, proteinPer100g: 22.0, category: "meat", slug: "sunka-od-kosti-95", description: "Kvalitn√≠ ≈°unka s 95% pod√≠lem masa" },
            { id: 25, name: "Cizrna such√°", price: 44.90, weight: 500, proteinPer100g: 20.0, category: "legumes", slug: "cizrna-sucha", description: "Such√° cizrna s 20g proteinu na 100g" },
            { id: 26, name: "Ovesn√© vloƒçky jemn√©", price: 29.90, weight: 500, proteinPer100g: 13.0, category: "other", slug: "ovesne-vlocky-jemne", description: "Jemn√© ovesn√© vloƒçky pro zdravou sn√≠dani" },
            { id: 27, name: "≈Ωerv√© Fitness 0,2% tuku", price: 27.90, weight: 150, proteinPer100g: 13.5, category: "dairy", slug: "zerve-fitness-02", description: "Fitness ≈æerv√© s minim√°ln√≠m obsahem tuku" },
            { id: 28, name: "S√Ωr Luƒçina Active", price: 32.90, weight: 150, proteinPer100g: 10.5, category: "dairy", slug: "syr-lucina-active", description: "Kr√©mov√Ω s√Ωr Luƒçina Active" },
            { id: 29, name: "Pangasius filety mra≈æen√©", price: 69.90, weight: 400, proteinPer100g: 15.0, category: "fish", slug: "pangasius-filety-mrazene", description: "Mra≈æen√© filety pangasia" },
            { id: 30, name: "Hr√°ch zelen√Ω such√Ω", price: 32.90, weight: 500, proteinPer100g: 22.0, category: "legumes", slug: "hrach-zeleny-suchy", description: "Zelen√Ω hr√°ch such√Ω s 22g proteinu" },
            { id: 31, name: "Ml√©ko polotuƒçn√© Kun√≠n", price: 24.90, weight: 1000, proteinPer100g: 3.3, category: "dairy", slug: "mleko-polotucne-kunin", description: "Polotuƒçn√© ml√©ko 1,5% tuku" },
            { id: 32, name: "Ke≈°u o≈ôechy natural", price: 129.90, weight: 200, proteinPer100g: 18.0, category: "nuts", slug: "kesu-orechy-natural", description: "P≈ô√≠rodn√≠ ke≈°u o≈ôechy bez soli" },
            { id: 33, name: "Proteinov√Ω pudink Ehrmann", price: 29.90, weight: 200, proteinPer100g: 10.0, category: "dairy", slug: "proteinovy-pudink-ehrmann", description: "Proteinov√Ω pudink s 10g proteinu" },
            { id: 34, name: "Seitan bio", price: 89.90, weight: 200, proteinPer100g: 25.0, category: "other", slug: "seitan-bio", description: "Bio seitan - p≈°eniƒçn√Ω protein" },
            { id: 35, name: "Vejce L (10ks)", price: 64.90, weight: 630, proteinPer100g: 13.0, category: "other", slug: "vejce-l-10ks", description: "ƒåerstv√° vejce velikost L, 10 kus≈Ø" },
            { id: 36, name: "Ricotta Galbani", price: 49.90, weight: 250, proteinPer100g: 8.5, category: "dairy", slug: "ricotta-galbani", description: "Italsk√Ω s√Ωr ricotta" },
            { id: 37, name: "Makrela uzen√°", price: 79.90, weight: 250, proteinPer100g: 18.0, category: "fish", slug: "makrela-uzena", description: "Uzen√° makrela s 18g proteinu" },
            { id: 38, name: "Sluneƒçnicov√° sem√≠nka", price: 34.90, weight: 200, proteinPer100g: 21.0, category: "nuts", slug: "slunecnicova-seminko", description: "P≈ô√≠rodn√≠ sluneƒçnicov√° sem√≠nka" },
            { id: 39, name: "Kef√≠r n√≠zkotuƒçn√Ω Hollandia", price: 19.90, weight: 500, proteinPer100g: 3.0, category: "dairy", slug: "kefir-nizkotucny-hollandia", description: "N√≠zkotuƒçn√Ω kef√≠r s probiotiky" },
            { id: 40, name: "Tempeh", price: 79.90, weight: 170, proteinPer100g: 19.0, category: "other", slug: "tempeh", description: "Fermentovan√Ω s√≥jov√Ω produkt tempeh" },
            { id: 41, name: "Gouda 48% pl√°tky Madeta", price: 49.90, weight: 100, proteinPer100g: 25.0, category: "dairy", slug: "gouda-48-platky-madeta", description: "Gouda s√Ωr 48% tuku v pl√°tkach" },
            { id: 42, name: "ƒåoƒçka zelen√°", price: 44.90, weight: 500, proteinPer100g: 24.0, category: "legumes", slug: "cocka-zelena", description: "Zelen√° ƒçoƒçka s 24g proteinu" },
            { id: 43, name: "Proteinov√° ka≈°e Bombus", price: 39.90, weight: 65, proteinPer100g: 30.0, category: "supplements", slug: "proteinova-kase-bombus", description: "Instantn√≠ proteinov√° ka≈°e" },
            { id: 44, name: "Balk√°nsk√Ω s√Ωr Madeta", price: 39.90, weight: 200, proteinPer100g: 16.0, category: "dairy", slug: "balkansky-syr-madeta", description: "Balk√°nsk√Ω s√Ωr v n√°levu" },
            { id: 45, name: "Mandle natural", price: 159.90, weight: 200, proteinPer100g: 21.0, category: "nuts", slug: "mandle-natural", description: "P≈ô√≠rodn√≠ mandle bez soli a p≈ô√≠davk≈Ø" }
        ];
        
        // Process products data with enhanced metrics
        productsData = productsDatabase.map(product => {
            const totalProtein = (product.weight / 100) * product.proteinPer100g;
            const pricePerGramProtein = product.price / totalProtein;
            const proteinPerCrown = totalProtein / product.price;
            const proteinDensity = product.proteinPer100g / 100; // protein percentage
            
            return {
                ...product,
                totalProtein: Math.round(totalProtein * 10) / 10,
                pricePerGramProtein: Math.round(pricePerGramProtein * 100) / 100,
                proteinPerCrown: Math.round(proteinPerCrown * 100) / 100,
                proteinDensity: Math.round(proteinDensity * 1000) / 10, // as percentage
                efficiencyScore: Math.round((proteinPerCrown * 10 + product.proteinPer100g) / 2 * 10) / 10
            };
        });
        
        const categoryNames = {
            'dairy': 'Ml√©ƒçn√© v√Ωrobky',
            'meat': 'Maso',
            'fish': 'Ryby',
            'legumes': 'Lu≈°tƒõniny',
            'nuts': 'O≈ôechy a semena',
            'supplements': 'Dopl≈àky stravy',
            'other': 'Ostatn√≠'
        };
        
        const categoryDescriptions = {
            'dairy': 'Nejkompletnƒõj≈°√≠ zdroj proteinu s vysokou biologickou hodnotou',
            'meat': 'Vysoce kvalitn√≠ protein s kompletn√≠m aminokyselinov√Ωm profilem',
            'fish': 'Zdrav√Ω protein s omega-3 mastn√Ωmi kyselinami',
            'legumes': 'Rostlinn√Ω protein bohat√Ω na vl√°kninu a miner√°ly',
            'nuts': 'Protein kombinovan√Ω se zdrav√Ωmi tuky a vitam√≠ny',
            'supplements': 'Koncentrovan√Ω protein pro maxim√°ln√≠ efektivitu',
            'other': 'Rozmanit√© zdroje proteinu pro pestrout stravy'
        };
        
        // SEO functions with URL management
        function updateSEO(title, description, keywords, structuredData, url) {
            document.getElementById('pageTitle').textContent = title;
            document.getElementById('pageDescription').setAttribute('content', description);
            document.getElementById('pageKeywords').setAttribute('content', keywords);
            document.getElementById('ogTitle').setAttribute('content', title);
            document.getElementById('ogDescription').setAttribute('content', description);
            
            // Update URL without page reload
            if (url && url !== window.location.pathname.replace('/protein-hunter', '')) {
                const fullUrl = `http://46.62.166.240/protein-hunter${url}`;
                document.getElementById('ogUrl').setAttribute('content', fullUrl);
                
                // Update browser URL
                const newPath = `/protein-hunter${url}`;
                if (window.location.pathname !== newPath) {
                    history.pushState({page: url}, title, newPath);
                }
            }
            
            if (structuredData) {
                document.getElementById('structuredData').textContent = JSON.stringify(structuredData);
            }
        }
        
        // URL Router
        function handleRouting() {
            const path = window.location.pathname.replace('/protein-hunter', '') || '/';
            
            console.log('Routing to:', path); // Debug
            
            // Route handling
            if (path === '/' || path === '' || path === '/seo.html') {
                showHomepage();
            } else if (path === '/produkty') {
                showAllProducts();
            } else if (path.startsWith('/produkty/')) {
                const slug = path.replace('/produkty/', '');
                showProductDirect(slug);
            } else if (path.startsWith('/kategorie/')) {
                const category = path.replace('/kategorie/', '');
                showCategoryDirect(category);
            } else if (path === '/recepty') {
                showAllRecipes();
            } else if (path.startsWith('/recepty/')) {
                const parts = path.replace('/recepty/', '');
                if (['breakfast', 'lunch', 'dinner', 'beverages'].includes(parts)) {
                    showRecipeCategoryDirect(parts);
                } else {
                    showRecipeDirect(parts);
                }
            } else if (path === '/slovnik') {
                showDictionary();
            } else if (path === '/kalkulacka') {
                showCalculator();
            } else if (path === '/porovnani') {
                showComparisons();
            } else if (path.startsWith('/porovnani/')) {
                const comparison = path.replace('/porovnani/', '');
                if (comparison.includes('-vs-')) {
                    const [product1, product2] = comparison.split('-vs-');
                    showComparisonDirect(product1, product2);
                } else {
                    showComparisonSelector();
                }
            } else {
                show404();
            }
        }
        
        // Direct functions that don't change URL (for routing)
        function showProductDirect(slug) {
            const product = productsData.find(p => p.slug === slug);
            if (!product) { show404(); return; }
            
            updateSEO(
                `${product.name} - Protein ${product.proteinPer100g}g/100g za ${product.pricePerGramProtein.toFixed(2)} Kƒç/g`,
                `${product.name}: ${product.proteinPer100g}g proteinu na 100g, celkem ${product.totalProtein}g za ${product.price} Kƒç.`,
                `${product.name}, protein, cena proteinu, ${categoryNames[product.category].toLowerCase()}`,
                {
                    "@context": "https://schema.org",
                    "@type": "Product",
                    "name": product.name,
                    "description": `${product.name} obsahuje ${product.proteinPer100g}g proteinu na 100g`
                }
            );
            
            // Show product content (reuse existing function logic)
            const originalShowProduct = showProduct;
            originalShowProduct.call(this, slug);
        }
        
        function showCategoryDirect(category) {
            if (!categoryNames[category]) { show404(); return; }
            showCategory(category);
        }
        
        function showRecipeDirect(slug) {
            const recipe = recipesData.find(r => r.slug === slug);
            if (!recipe) { show404(); return; }
            showRecipe(slug);
        }
        
        function showRecipeCategoryDirect(category) {
            showRecipeCategory(category);
        }
        
        function showComparisonDirect(product1Slug, product2Slug) {
            const product1 = productsData.find(p => p.slug === product1Slug);
            const product2 = productsData.find(p => p.slug === product2Slug);
            if (!product1 || !product2) { show404(); return; }
            showComparison(product1Slug, product2Slug);
        }
        
        // 404 page
        function show404() {
            updateSEO(
                'Str√°nka nenalezena - Protein Hunter',
                'Po≈æadovan√° str√°nka nebyla nalezena. Vra≈•te se na hlavn√≠ str√°nku a najdƒõte nejlep≈°√≠ proteinov√© potraviny.',
                'chyba 404, str√°nka nenalezena, protein hunter'
            );
            
            const content = `
                <div class="text-center py-16">
                    <div class="text-8xl mb-8">ü•©</div>
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">Str√°nka nenalezena</h1>
                    <p class="text-xl text-gray-600 mb-8">
                        Omlouv√°me se, ale po≈æadovan√° str√°nka nebyla nalezena.
                    </p>
                    <div class="space-x-4">
                        <button onclick="navigateTo('/')" class="bg-primary text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors">
                            üè† Zpƒõt na hlavn√≠ str√°nku
                        </button>
                        <button onclick="navigateTo('/produkty')" class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors">
                            üìä Prohl√©dnout produkty
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        function updateBreadcrumbs(path) {
            const breadcrumbs = document.getElementById('breadcrumbs');
            breadcrumbs.innerHTML = path.map((item, index) => 
                index === path.length - 1 
                    ? `<span class="text-gray-900 font-medium">${item.name}</span>`
                    : `<a href="#" onclick="${item.action}" class="text-gray-500 hover:text-primary">${item.name}</a> <span class="mx-2 text-gray-400">/</span>`
            ).join('');
        }
        
        // Homepage
        function showHomepage() {
            updateSEO(
                'Protein Hunter - Najdƒõte nejlep≈°√≠ pomƒõr proteinu a ceny',
                'Porovn√°n√≠ 45+ potravin podle ceny za gram proteinu. Recepty, kalkulaƒçka a slovn√≠k protein≈Ø pro fitness a zdrav√≠.',
                'protein, b√≠lkoviny, cena proteinu, nejlevnƒõj≈°√≠ protein, fitness recepty, proteinov√© potraviny'
            );
            
            updateBreadcrumbs([{name: 'Dom≈Ø', action: 'showHomepage()'}]);
            
            const content = `
                <div class="text-center mb-12">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">ü•© Protein Hunter</h1>
                    <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                        Najdƒõte nejlep≈°√≠ pomƒõr proteinu a ceny z 45+ potravin. 
                        Porovnejte ceny, objevte recepty a vypoƒç√≠tejte svou pot≈ôebu b√≠lkovin.
                    </p>
                </div>
                
                <!-- Quick Stats -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
                    <div class="bg-white p-6 rounded-lg shadow text-center">
                        <div class="text-3xl font-bold text-primary">${productsData.length}</div>
                        <div class="text-gray-600">Produkt≈Ø v datab√°zi</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow text-center">
                        <div class="text-3xl font-bold text-primary">8</div>
                        <div class="text-gray-600">Recept≈Ø s vysok√Ωm proteinem</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow text-center">
                        <div class="text-3xl font-bold text-primary">${Math.min(...productsData.map(p => p.pricePerGramProtein)).toFixed(2)}</div>
                        <div class="text-gray-600">Nejlep≈°√≠ cena Kƒç/g</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow text-center">
                        <div class="text-3xl font-bold text-primary">20+</div>
                        <div class="text-gray-600">Pojm≈Ø ve slovn√≠ku</div>
                    </div>
                </div>
                
                <!-- Top Products -->
                <div class="bg-white rounded-lg shadow mb-8">
                    <div class="px-6 py-4 border-b">
                        <h2 class="text-2xl font-semibold">üèÜ TOP 5 nejlevnƒõj≈°√≠ch protein≈Ø</h2>
                    </div>
                    <div class="p-6">
                        ${productsData
                            .sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)
                            .slice(0, 5)
                            .map((product, index) => `
                                <div class="flex items-center justify-between py-3 border-b last:border-b-0 hover:bg-gray-50 cursor-pointer" onclick="showProduct('${product.slug}')">
                                    <div class="flex items-center gap-4">
                                        <span class="text-2xl">${['üèÜ', 'ü•à', 'ü•â', '4Ô∏è‚É£', '5Ô∏è‚É£'][index]}</span>
                                        <div>
                                            <h3 class="font-semibold text-primary hover:underline">${product.name}</h3>
                                            <div class="text-sm text-gray-600">${categoryNames[product.category]} ‚Ä¢ ${product.totalProtein}g proteinu</div>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-xl font-bold text-primary">${product.pricePerGramProtein.toFixed(2)} Kƒç</div>
                                        <div class="text-xs text-gray-500">za 1g proteinu</div>
                                    </div>
                                </div>
                            `).join('')}
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">üìä Produkty podle kategori√≠</h3>
                        <div class="space-y-2">
                            ${Object.entries(categoryNames).map(([key, name]) => {
                                const count = productsData.filter(p => p.category === key).length;
                                const avgPrice = productsData.filter(p => p.category === key).reduce((sum, p) => sum + p.pricePerGramProtein, 0) / count || 0;
                                return `
                                    <a href="#" onclick="showCategory('${key}')" class="block text-primary hover:underline hover:bg-primary/5 p-2 rounded transition-colors">
                                        <div class="flex justify-between items-center">
                                            <span>${name}</span>
                                            <span class="text-xs text-gray-500">${count} produkt≈Ø ‚Ä¢ ${avgPrice.toFixed(1)} Kƒç/g</span>
                                        </div>
                                    </a>
                                `;
                            }).join('')}
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">üçΩÔ∏è Recepty s vysok√Ωm proteinem</h3>
                        <div class="space-y-2">
                            <a href="#" onclick="showRecipeCategory('breakfast')" class="block text-primary hover:underline">Proteinov√© sn√≠danƒõ</a>
                            <a href="#" onclick="showRecipeCategory('lunch')" class="block text-primary hover:underline">Fitness obƒõdy</a>
                            <a href="#" onclick="showRecipeCategory('dinner')" class="block text-primary hover:underline">Zdrav√© veƒçe≈ôe</a>
                            <a href="#" onclick="showAllRecipes()" class="block text-primary hover:underline">V≈°echny recepty ‚Üí</a>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">üîß N√°stroje</h3>
                        <div class="space-y-2">
                            <a href="#" onclick="showCalculator()" class="block text-primary hover:underline">Protein kalkulaƒçka</a>
                            <a href="#" onclick="showDictionary()" class="block text-primary hover:underline">Slovn√≠k pojm≈Ø</a>
                            <a href="#" onclick="showComparisons()" class="block text-primary hover:underline">Porovn√°n√≠ produkt≈Ø</a>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Product detail page
        function showProduct(slug) {
            const product = productsData.find(p => p.slug === slug);
            if (!product) return;
            
            updateSEO(
                `${product.name} - Protein ${product.proteinPer100g}g/100g za ${product.pricePerGramProtein.toFixed(2)} Kƒç/g`,
                `${product.name}: ${product.proteinPer100g}g proteinu na 100g, celkem ${product.totalProtein}g za ${product.price} Kƒç. Cena ${product.pricePerGramProtein.toFixed(2)} Kƒç za gram proteinu.`,
                `${product.name}, protein, cena proteinu, ${categoryNames[product.category].toLowerCase()}, fitness potraviny`,
                {
                    "@context": "https://schema.org",
                    "@type": "Product",
                    "name": product.name,
                    "description": `${product.name} obsahuje ${product.proteinPer100g}g proteinu na 100g`,
                    "category": categoryNames[product.category],
                    "offers": {
                        "@type": "Offer",
                        "price": product.price,
                        "priceCurrency": "CZK"
                    },
                    "nutrition": {
                        "@type": "NutritionInformation",
                        "proteinContent": `${product.proteinPer100g}g`
                    }
                }
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Produkty', action: 'showAllProducts()'},
                {name: categoryNames[product.category], action: `showCategory('${product.category}')`},
                {name: product.name, action: `showProduct('${slug}')`}
            ]);
            
            // Find similar products
            const similarProducts = productsData
                .filter(p => p.category === product.category && p.id !== product.id)
                .sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)
                .slice(0, 3);
            
            // Get ranking position
            const allProductsByPrice = productsData.sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein);
            const rankPosition = allProductsByPrice.findIndex(p => p.id === product.id) + 1;
            
            // Generate FAQ content
            const faqContent = [
                {
                    question: `Kolik proteinu obsahuje ${product.name}?`,
                    answer: `${product.name} obsahuje ${product.proteinPer100g}g proteinu na 100g produktu. V cel√©m balen√≠ (${product.weight}g) je celkem ${product.totalProtein}g proteinu.`
                },
                {
                    question: `Jak√° je cena za gram proteinu u ${product.name}?`,
                    answer: `Cena za gram proteinu u ${product.name} je ${product.pricePerGramProtein.toFixed(2)} Kƒç. To je ${rankPosition <= 10 ? 'velmi dobr√°' : rankPosition <= 20 ? 'pr≈Ømƒõrn√°' : 'vy≈°≈°√≠'} cena ve srovn√°n√≠ s ostatn√≠mi produkty.`
                },
                {
                    question: `Kde koupit ${product.name} nejlevnƒõji?`,
                    answer: `${product.name} za ${product.price} Kƒç najdete v bƒõ≈æn√Ωch obchodech. Doporuƒçujeme porovnat ceny v r≈Øzn√Ωch ≈ôetƒõzc√≠ch pro nejlep≈°√≠ nab√≠dku.`
                },
                {
                    question: `Je ${product.name} vhodn√Ω pro fitness?`,
                    answer: `Ano, ${product.name} s ${product.proteinPer100g}g proteinu na 100g je ${product.proteinPer100g >= 20 ? 'vynikaj√≠c√≠m' : product.proteinPer100g >= 15 ? 'dobr√Ωm' : 'z√°kladn√≠m'} zdrojem b√≠lkovin pro sportovce a fitness.`
                }
            ];
            
            const content = `
                <!-- Product Header -->
                <div class="bg-white rounded-lg shadow p-8 mb-8">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <div class="mb-4">
                                <span class="inline-block bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-medium">
                                    #${rankPosition} nejlevnƒõj≈°√≠ protein
                                </span>
                            </div>
                            
                            <h1 class="text-3xl font-bold text-gray-900 mb-4">${product.name}</h1>
                            <p class="text-lg text-gray-600 mb-6">${product.description}</p>
                            <div class="text-lg text-gray-600 mb-6">
                                <span class="bg-gray-100 px-3 py-1 rounded">${categoryNames[product.category]}</span>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4 mb-6">
                                <div class="bg-green-50 p-4 rounded-lg text-center">
                                    <div class="text-2xl font-bold text-green-600">${product.pricePerGramProtein.toFixed(2)} Kƒç</div>
                                    <div class="text-sm text-green-700">za 1g proteinu</div>
                                    <div class="text-xs text-green-600 mt-1">${rankPosition <= 5 ? 'üèÜ TOP 5' : rankPosition <= 10 ? '‚≠ê TOP 10' : 'üìä Hodnocen√≠'}</div>
                                </div>
                                <div class="bg-blue-50 p-4 rounded-lg text-center">
                                    <div class="text-2xl font-bold text-blue-600">${product.proteinPer100g}g</div>
                                    <div class="text-sm text-blue-700">protein/100g</div>
                                    <div class="text-xs text-blue-600 mt-1">${product.proteinPer100g >= 25 ? 'üí™ Vysok√Ω' : product.proteinPer100g >= 15 ? '‚úì St≈ôedn√≠' : 'üìä Z√°kladn√≠'}</div>
                                </div>
                                <div class="bg-purple-50 p-4 rounded-lg text-center">
                                    <div class="text-2xl font-bold text-purple-600">${product.price} Kƒç</div>
                                    <div class="text-sm text-purple-700">celkov√° cena</div>
                                    <div class="text-xs text-purple-600 mt-1">${(product.totalProtein / product.price).toFixed(1)}g/Kƒç</div>
                                </div>
                                <div class="bg-orange-50 p-4 rounded-lg text-center">
                                    <div class="text-2xl font-bold text-orange-600">${product.weight >= 1000 ? (product.weight/1000).toFixed(1) + 'kg' : product.weight + 'g'}</div>
                                    <div class="text-sm text-orange-700">hmotnost</div>
                                    <div class="text-xs text-orange-600 mt-1">${(product.weight / 100).toFixed(1)} porc√≠</div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h2 class="text-xl font-semibold mb-4">üìä Detailn√≠ nutriƒçn√≠ anal√Ωza</h2>
                            <div class="space-y-4">
                                <div class="p-4 bg-gray-50 rounded-lg">
                                    <div class="flex justify-between mb-2">
                                        <span>Celkem proteinu v balen√≠:</span>
                                        <span class="font-bold text-primary">${product.totalProtein}g</span>
                                    </div>
                                    <div class="flex justify-between mb-2">
                                        <span>Poƒçet porc√≠ (100g):</span>
                                        <span class="font-semibold">${(product.weight / 100).toFixed(1)}</span>
                                    </div>
                                    <div class="flex justify-between mb-2">
                                        <span>Protein na korunu:</span>
                                        <span class="font-semibold">${(product.totalProtein / product.price).toFixed(2)}g</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Pozice v ≈æeb≈ô√≠ƒçku:</span>
                                        <span class="font-bold text-primary">#${rankPosition} z ${productsData.length}</span>
                                    </div>
                                </div>
                                
                                <div class="space-y-2">
                                    <h3 class="font-medium text-gray-900">üéØ Hodnocen√≠ efektivity</h3>
                                    <div class="text-sm text-gray-600">
                                        ${product.pricePerGramProtein <= 2 ? 'üü¢ Vynikaj√≠c√≠ pomƒõr cena/protein' : 
                                          product.pricePerGramProtein <= 4 ? 'üü° Dobr√Ω pomƒõr cena/protein' : 
                                          'üî¥ Dra≈æ≈°√≠ zdroj proteinu'}
                                    </div>
                                    <div class="text-sm text-gray-600">
                                        ${product.proteinPer100g >= 25 ? 'üí™ Vysokoproteinov√° potravina' : 
                                          product.proteinPer100g >= 15 ? '‚úì St≈ôedn√≠ obsah proteinu' : 
                                          'üìä Z√°kladn√≠ zdroj proteinu'}
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 space-y-3">
                                <button onclick="showCategory('${product.category}')" class="w-full bg-primary text-white py-3 px-6 rounded-lg hover:bg-green-600 transition-colors">
                                    üîç Porovnat s podobn√Ωmi produkty
                                </button>
                                <button onclick="showComparison('${product.slug}', '${similarProducts[0]?.slug || ''}')" class="w-full bg-blue-500 text-white py-3 px-6 rounded-lg hover:bg-blue-600 transition-colors">
                                    ‚öñÔ∏è Porovnat s nejlevnƒõj≈°√≠m
                                </button>
                                <button onclick="showCalculator()" class="w-full bg-gray-600 text-white py-3 px-6 rounded-lg hover:bg-gray-700 transition-colors">
                                    üßÆ Spoƒç√≠tat denn√≠ pot≈ôebu
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ Section -->
                <div class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-2xl font-semibold mb-6">‚ùì ƒåasto kladen√© ot√°zky o ${product.name}</h2>
                    <div class="space-y-4">
                        ${faqContent.map((faq, index) => `
                            <div class="border-l-4 border-primary pl-4">
                                <h3 class="font-semibold text-gray-900 mb-2">${faq.question}</h3>
                                <p class="text-gray-600">${faq.answer}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <!-- Usage Tips -->
                <div class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-xl font-semibold mb-4">üí° Tipy pro vyu≈æit√≠ ${product.name}</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="font-medium text-gray-900 mb-2">üçΩÔ∏è Zp≈Øsoby konzumace</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                ${product.category === 'dairy' ? '<li>‚Ä¢ P≈ô√≠mo jako svaƒçina</li><li>‚Ä¢ V smoothies a proteinov√Ωch n√°poj√≠ch</li><li>‚Ä¢ Do m√ºsli a ovesn√Ωch ka≈°√≠</li>' : 
                                  product.category === 'meat' ? '<li>‚Ä¢ Grilov√°n√≠ nebo peƒçen√≠</li><li>‚Ä¢ Do sal√°t≈Ø a tƒõstovin</li><li>‚Ä¢ Jako hlavn√≠ j√≠dlo s p≈ô√≠lohou</li>' :
                                  product.category === 'fish' ? '<li>‚Ä¢ Peƒçen√≠ nebo grilov√°n√≠</li><li>‚Ä¢ Do sal√°t≈Ø a sushi</li><li>‚Ä¢ S r√Ω≈æ√≠ nebo zeleninou</li>' :
                                  product.category === 'legumes' ? '<li>‚Ä¢ Va≈ôen√© jako p≈ô√≠loha</li><li>‚Ä¢ Do pol√©vek a rag√∫</li><li>‚Ä¢ Namoƒçen√© p≈ôes noc</li>' :
                                  '<li>‚Ä¢ Podle n√°vodu na obalu</li><li>‚Ä¢ Kombinace s jin√Ωmi potravinami</li><li>‚Ä¢ R≈Øzn√© zp≈Øsoby p≈ô√≠pravy</li>'}
                            </ul>
                        </div>
                        <div>
                            <h3 class="font-medium text-gray-900 mb-2">‚è∞ Ide√°ln√≠ ƒças konzumace</h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                ${product.proteinPer100g >= 20 ? '<li>‚Ä¢ Po tr√©ninku (30-60 minut)</li><li>‚Ä¢ Jako proteinov√° sn√≠danƒõ</li><li>‚Ä¢ Mezi j√≠dly jako svaƒçina</li>' : 
                                  '<li>‚Ä¢ Kdykoli bƒõhem dne</li><li>‚Ä¢ Jako souƒç√°st vyv√°≈æen√©ho j√≠dla</li><li>‚Ä¢ Kombinace s jin√Ωmi proteiny</li>'}
                            </ul>
                        </div>
                    </div>
                </div>
                
                ${similarProducts.length > 0 ? `
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-xl font-semibold mb-4">üîó Podobn√© produkty v kategorii "${categoryNames[product.category]}"</h2>
                    <div class="text-sm text-gray-600 mb-4">
                        Porovn√°n√≠ s dal≈°√≠mi ${categoryNames[product.category].toLowerCase()} podle ceny za gram proteinu:
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        ${similarProducts.map((similar, index) => {
                            const comparison = similar.pricePerGramProtein < product.pricePerGramProtein ? 'levnƒõj≈°√≠' : similar.pricePerGramProtein > product.pricePerGramProtein ? 'dra≈æ≈°√≠' : 'stejn√° cena';
                            const savings = Math.abs(similar.pricePerGramProtein - product.pricePerGramProtein).toFixed(2);
                            return `
                                <div class="border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer" onclick="showProduct('${similar.slug}')">
                                    <h3 class="font-semibold text-primary hover:underline mb-2">${similar.name}</h3>
                                    <div class="text-sm text-gray-600 space-y-1">
                                        <div>Protein: ${similar.proteinPer100g}g/100g</div>
                                        <div>Cena: ${similar.price} Kƒç</div>
                                        <div class="font-semibold ${similar.pricePerGramProtein < product.pricePerGramProtein ? 'text-green-600' : similar.pricePerGramProtein > product.pricePerGramProtein ? 'text-red-600' : 'text-gray-600'}">
                                            ${similar.pricePerGramProtein.toFixed(2)} Kƒç/g
                                            ${savings > 0 ? `(${savings} Kƒç ${comparison})` : ''}
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
                ` : ''}
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Enhanced Category page with SEO content
        function showCategory(category) {
            const categoryProducts = productsData
                .filter(p => p.category === category)
                .sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein);
            
            const avgPrice = categoryProducts.reduce((sum, p) => sum + p.pricePerGramProtein, 0) / categoryProducts.length;
            const bestProduct = categoryProducts[0];
            const highestProtein = categoryProducts.reduce((max, p) => p.proteinPer100g > max.proteinPer100g ? p : max, categoryProducts[0]);
            
            // Category-specific content
            const categoryInfo = {
                'dairy': {
                    icon: 'ü•õ',
                    benefits: ['Kompletn√≠ aminokyselinov√Ω profil', 'Rychl√© vst≈ôeb√°v√°n√≠', 'Obsahuje v√°pn√≠k', 'Podpora kost√≠'],
                    tips: ['Ide√°ln√≠ po tr√©ninku', 'Kombinujte s ovocem', 'Vyb√≠rejte varianty s n√≠zk√Ωm tukem'],
                    description: 'Ml√©ƒçn√© v√Ωrobky jsou vynikaj√≠c√≠m zdrojem kvalitn√≠ch protein≈Ø s kompletn√≠m aminokyselinov√Ωm profilem. Obsahuj√≠ v≈°echny esenci√°ln√≠ aminokyseliny pot≈ôebn√© pro r≈Øst a regeneraci sval≈Ø.'
                },
                'meat': {
                    icon: 'ü•©',
                    benefits: ['Vysok√Ω obsah proteinu', 'Kompletn√≠ aminokyseliny', 'Obsahuje ≈æelezo a B vitam√≠ny', 'Podpora svalov√© hmoty'],
                    tips: ['Grilov√°n√≠ nebo peƒçen√≠', 'Kombinace se zeleninou', 'Bez p≈ôidan√Ωch tuk≈Ø'],
                    description: 'Maso je jedn√≠m z nejkvalitnƒõj≈°√≠ch zdroj≈Ø proteinu s vysokou biologickou hodnotou. Obsahuje v≈°echny esenci√°ln√≠ aminokyseliny ve spr√°vn√©m pomƒõru.'
                },
                'fish': {
                    icon: 'üêü',
                    benefits: ['Vysok√Ω obsah proteinu', 'Omega-3 mastn√© kyseliny', 'N√≠zk√Ω obsah tuku', 'Podpora zdrav√≠ srdce'],
                    tips: ['Peƒçen√≠ nebo grilov√°n√≠', 'Minim√°ln√≠ tepeln√° √∫prava', 'Kombinace s citr√≥nem'],
                    description: 'Ryby poskytuj√≠ kvalitn√≠ protein s n√≠zk√Ωm obsahem tuku a jsou bohat√© na omega-3 mastn√© kyseliny, kter√© podporuj√≠ zdrav√≠ srdce a mozku.'
                },
                'legumes': {
                    icon: 'üå±',
                    benefits: ['Vysok√Ω obsah proteinu', 'Bohat√© na vl√°kninu', 'Komplexn√≠ sacharidy', 'Miner√°ly a vitam√≠ny'],
                    tips: ['Namoƒçen√≠ p≈ôes noc', 'Kombinace s obilninami', 'Dlouh√© va≈ôen√≠'],
                    description: 'Lu≈°tƒõniny jsou v√Ωborn√Ωm rostlinn√Ωm zdrojem proteinu, vl√°kniny a komplexn√≠ch sacharid≈Ø. Ide√°ln√≠ pro vegetari√°ny a vegany.'
                },
                'nuts': {
                    icon: 'ü•ú',
                    benefits: ['Vysok√Ω obsah proteinu', 'Zdrav√© tuky', 'Vitam√≠n E', 'Miner√°ly'],
                    tips: ['Jako svaƒçina', 'V m√ºsli nebo smoothies', 'Pozor na vysokou kalorickou hodnotu'],
                    description: 'O≈ôechy a semena kombinuj√≠ protein se zdrav√Ωmi tuky a jsou bohat√© na vitam√≠ny a miner√°ly. Ide√°ln√≠ jako svaƒçina nebo doplnƒõk j√≠del.'
                },
                'supplements': {
                    icon: 'üíä',
                    benefits: ['Koncentrovan√Ω protein', 'Rychl√© vst≈ôeb√°v√°n√≠', 'P≈ôesn√© d√°vkov√°n√≠', 'Dlouh√° trvanlivost'],
                    tips: ['Po tr√©ninku', 'Podle n√°vodu', 'Kombinace s vodou nebo ml√©kem'],
                    description: 'Proteinov√© dopl≈àky poskytuj√≠ koncentrovan√Ω protein s vysokou biologickou hodnotou. Ide√°ln√≠ pro sportovce a aktivn√≠ jedince.'
                },
                'other': {
                    icon: 'üçΩÔ∏è',
                    benefits: ['Rozmanitost ≈æivin', 'R≈Øzn√© aminokyseliny', 'P≈ô√≠rodn√≠ zdroje', 'Pestrost stravy'],
                    tips: ['Kombinujte s jin√Ωmi proteiny', 'R≈Øzn√© zp≈Øsoby p≈ô√≠pravy', 'Souƒç√°st vyv√°≈æen√© stravy'],
                    description: 'Ostatn√≠ proteinov√© potraviny poskytuj√≠ rozmanitost ve stravƒõ a r≈Øzn√© kombinace ≈æivin pro optim√°ln√≠ v√Ω≈æivu.'
                }
            };
            
            const info = categoryInfo[category] || categoryInfo['other'];
            
            updateSEO(
                `${categoryNames[category]} s vysok√Ωm obsahem proteinu - nejlevnƒõj≈°√≠ za ${bestProduct?.pricePerGramProtein.toFixed(2)} Kƒç/g`,
                `Nejlevnƒõj≈°√≠ ${categoryNames[category].toLowerCase()} s vysok√Ωm obsahem b√≠lkovin. Porovn√°n√≠ ${categoryProducts.length} produkt≈Ø podle ceny za gram proteinu. Pr≈Ømƒõrn√° cena ${avgPrice.toFixed(2)} Kƒç/g.`,
                `${categoryNames[category].toLowerCase()}, protein, nejlevnƒõj≈°√≠ ${categoryNames[category].toLowerCase()}, cena proteinu, fitness potraviny`
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Produkty', action: 'showAllProducts()'},
                {name: categoryNames[category], action: `showCategory('${category}')`}
            ]);
            
            const content = `
                <!-- Category Header -->
                <div class="bg-white rounded-lg shadow p-8 mb-8">
                    <div class="text-center mb-6">
                        <div class="text-6xl mb-4">${info.icon}</div>
                        <h1 class="text-4xl font-bold text-gray-900 mb-4">${categoryNames[category]} s vysok√Ωm obsahem proteinu</h1>
                        <p class="text-xl text-gray-600 max-w-4xl mx-auto">
                            ${info.description}
                        </p>
                    </div>
                    
                    <!-- Category Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                        <div class="bg-green-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-green-600">${categoryProducts.length}</div>
                            <div class="text-sm text-green-700">produkt≈Ø v kategorii</div>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-blue-600">${bestProduct?.pricePerGramProtein.toFixed(2)} Kƒç</div>
                            <div class="text-sm text-blue-700">nejlevnƒõj≈°√≠ za 1g</div>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-purple-600">${avgPrice.toFixed(2)} Kƒç</div>
                            <div class="text-sm text-purple-700">pr≈Ømƒõrn√° cena/g</div>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-orange-600">${highestProtein?.proteinPer100g}g</div>
                            <div class="text-sm text-orange-700">nejv√≠ce proteinu/100g</div>
                        </div>
                    </div>
                </div>
                
                <!-- Category Benefits -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <div class="bg-white rounded-lg shadow p-6">
                        <h2 class="text-xl font-semibold mb-4">üí™ V√Ωhody ${categoryNames[category].toLowerCase()}</h2>
                        <ul class="space-y-2">
                            ${info.benefits.map(benefit => `
                                <li class="flex items-start gap-2">
                                    <span class="text-green-500 mt-1">‚úì</span>
                                    <span class="text-gray-700">${benefit}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6">
                        <h2 class="text-xl font-semibold mb-4">üéØ Tipy pro p≈ô√≠pravu</h2>
                        <ul class="space-y-2">
                            ${info.tips.map(tip => `
                                <li class="flex items-start gap-2">
                                    <span class="text-primary mt-1">‚Ä¢</span>
                                    <span class="text-gray-700">${tip}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                </div>
                
                <!-- TOP 3 Products -->
                <div class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-xl font-semibold mb-4">üèÜ TOP 3 nejlevnƒõj≈°√≠ ${categoryNames[category].toLowerCase()}</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        ${categoryProducts.slice(0, 3).map((product, index) => `
                            <div class="border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer" onclick="showProduct('${product.slug}')">
                                <div class="text-center mb-3">
                                    <span class="text-3xl">${['üèÜ', 'ü•à', 'ü•â'][index]}</span>
                                </div>
                                <h3 class="font-semibold text-primary hover:underline mb-2 text-center">${product.name}</h3>
                                <div class="text-center space-y-1">
                                    <div class="text-2xl font-bold text-primary">${product.pricePerGramProtein.toFixed(2)} Kƒç/g</div>
                                    <div class="text-sm text-gray-600">${product.proteinPer100g}g protein/100g</div>
                                    <div class="text-sm text-gray-600">${product.price} Kƒç</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <!-- All Products List -->
                <div class="bg-white rounded-lg shadow">
                    <div class="px-6 py-4 border-b">
                        <h2 class="text-xl font-semibold">üìä V≈°echny ${categoryNames[category].toLowerCase()} se≈ôazen√© podle ceny</h2>
                        <p class="text-sm text-gray-600 mt-1">
                            Kompletn√≠ p≈ôehled ${categoryProducts.length} produkt≈Ø s detailn√≠m porovn√°n√≠m cen za gram proteinu
                        </p>
                    </div>
                    <div class="divide-y divide-gray-100">
                        ${categoryProducts.map((product, index) => `
                            <div class="p-4 hover:bg-gray-50 transition-colors cursor-pointer" onclick="showProduct('${product.slug}')">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-4">
                                        <div class="text-center">
                                            <div class="text-xl">${index < 3 ? ['üèÜ', 'ü•à', 'ü•â'][index] : `#${index + 1}`}</div>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-primary hover:underline">${product.name}</h3>
                                            <div class="text-sm text-gray-600">
                                                ${product.price} Kƒç ‚Ä¢ ${product.weight >= 1000 ? (product.weight/1000).toFixed(1) + ' kg' : product.weight + ' g'} ‚Ä¢ 
                                                ${product.proteinPer100g}g protein/100g ‚Ä¢ Celkem: ${product.totalProtein}g proteinu
                                            </div>
                                            <div class="text-xs text-gray-500 mt-1">
                                                ${product.pricePerGramProtein < avgPrice ? 'üíö Pod pr≈Ømƒõrem' : product.pricePerGramProtein > avgPrice ? 'üî¥ Nad pr≈Ømƒõrem' : '‚öñÔ∏è Pr≈Ømƒõrn√° cena'}
                                                ‚Ä¢ Protein na korunu: ${product.proteinPerCrown}g
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-2xl font-bold text-primary">${product.pricePerGramProtein.toFixed(2)} Kƒç</div>
                                        <div class="text-xs text-gray-500">za 1g proteinu</div>
                                        <div class="text-xs mt-1 ${product.pricePerGramProtein < avgPrice ? 'text-green-600' : product.pricePerGramProtein > avgPrice ? 'text-red-600' : 'text-gray-600'}">
                                            ${(((product.pricePerGramProtein - avgPrice) / avgPrice) * 100).toFixed(0)}% od pr≈Ømƒõru
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <!-- Category FAQ -->
                <div class="bg-white rounded-lg shadow p-6 mt-8">
                    <h2 class="text-xl font-semibold mb-4">‚ùì ƒåasto kladen√© ot√°zky o ${categoryNames[category].toLowerCase()}</h2>
                    <div class="space-y-4">
                        <div class="border-l-4 border-primary pl-4">
                            <h3 class="font-semibold text-gray-900 mb-2">Kter√© ${categoryNames[category].toLowerCase()} maj√≠ nejv√≠ce proteinu?</h3>
                            <p class="text-gray-600">${highestProtein.name} obsahuje nejv√≠ce proteinu s ${highestProtein.proteinPer100g}g na 100g produktu.</p>
                        </div>
                        <div class="border-l-4 border-primary pl-4">
                            <h3 class="font-semibold text-gray-900 mb-2">Kter√© ${categoryNames[category].toLowerCase()} jsou nejlevnƒõj≈°√≠?</h3>
                            <p class="text-gray-600">${bestProduct.name} m√° nejlep≈°√≠ pomƒõr cena/protein s ${bestProduct.pricePerGramProtein.toFixed(2)} Kƒç za gram proteinu.</p>
                        </div>
                        <div class="border-l-4 border-primary pl-4">
                            <h3 class="font-semibold text-gray-900 mb-2">Jak√° je pr≈Ømƒõrn√° cena proteinu v t√©to kategorii?</h3>
                            <p class="text-gray-600">Pr≈Ømƒõrn√° cena za gram proteinu v kategorii ${categoryNames[category].toLowerCase()} je ${avgPrice.toFixed(2)} Kƒç.</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Show all products
        function showAllProducts() {
            updateSEO(
                'V≈°echny proteinov√© potraviny - datab√°ze 45+ produkt≈Ø s cenami',
                'Kompletn√≠ datab√°ze proteinov√Ωch potravin s porovn√°n√≠m cen za gram proteinu. Ml√©ƒçn√© v√Ωrobky, maso, ryby, lu≈°tƒõniny a dopl≈àky stravy.',
                'proteinov√© potraviny, datab√°ze potravin, cena proteinu, nejlevnƒõj≈°√≠ protein'
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Produkty', action: 'showAllProducts()'}
            ]);
            
            const content = `
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">V≈°echny proteinov√© potraviny</h1>
                    <p class="text-xl text-gray-600">
                        Datab√°ze ${productsData.length} produkt≈Ø se≈ôazen√Ωch podle nejlep≈°√≠ho pomƒõru cena/protein. 
                        Najdƒõte nejlevnƒõj≈°√≠ zdroje b√≠lkovin pro va≈°i stravu.
                    </p>
                </div>
                
                <!-- Categories -->
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-8">
                    ${Object.entries(categoryNames).map(([key, name]) => {
                        const count = productsData.filter(p => p.category === key).length;
                        const categoryIcons = {
                            'dairy': 'ü•õ', 'meat': 'ü•©', 'fish': 'üêü', 
                            'legumes': 'üå±', 'nuts': 'ü•ú', 'supplements': 'üíä', 'other': 'üçΩÔ∏è'
                        };
                        return `
                            <div class="bg-white p-4 rounded-lg shadow text-center cursor-pointer hover:bg-primary/5 transition-colors" onclick="showCategory('${key}')">
                                <div class="text-2xl mb-2">${categoryIcons[key] || 'üçΩÔ∏è'}</div>
                                <div class="text-sm font-medium">${name}</div>
                                <div class="text-xs text-gray-500">${count} produkt≈Ø</div>
                            </div>
                        `;
                    }).join('')}
                </div>
                
                <!-- All products list -->
                <div class="bg-white rounded-lg shadow">
                    <div class="px-6 py-4 border-b">
                        <h2 class="text-xl font-semibold">V≈°echny produkty se≈ôazen√© podle ceny</h2>
                    </div>
                    <div class="divide-y divide-gray-100">
                        ${productsData
                            .sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)
                            .map((product, index) => `
                                <div class="p-4 hover:bg-gray-50 transition-colors cursor-pointer" onclick="showProduct('${product.slug}')">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap-4">
                                            <div class="text-center">
                                                <div class="text-xl">${index < 3 ? ['üèÜ', 'ü•à', 'ü•â'][index] : `#${index + 1}`}</div>
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-primary hover:underline">${product.name}</h3>
                                                <div class="text-sm text-gray-600">
                                                    <span class="bg-gray-100 px-2 py-1 rounded text-xs">${categoryNames[product.category]}</span>
                                                    <span class="ml-2">${product.price} Kƒç ‚Ä¢ ${product.weight >= 1000 ? (product.weight/1000).toFixed(1) + ' kg' : product.weight + ' g'}</span>
                                                    <span class="mx-1">‚Ä¢</span>
                                                    <span>${product.proteinPer100g}g protein/100g</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-2xl font-bold text-primary">${product.pricePerGramProtein.toFixed(2)} Kƒç</div>
                                            <div class="text-xs text-gray-500">za 1g proteinu</div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                    </div>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Recipe functions
        function showAllRecipes() {
            updateSEO(
                'Recepty s vysok√Ωm obsahem proteinu - fitness kucha≈ôka',
                `${recipesData.length} recept≈Ø s vysok√Ωm obsahem b√≠lkovin. Proteinov√© sn√≠danƒõ, obƒõdy, veƒçe≈ôe a svaƒçiny pro fitness a zdrav√Ω ≈æivotn√≠ styl.`,
                'proteinov√© recepty, fitness recepty, recepty s vysok√Ωm proteinem, zdrav√© recepty'
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Recepty', action: 'showAllRecipes()'}
            ]);
            
            const categoryNames = {
                'breakfast': 'Sn√≠danƒõ',
                'lunch': 'Obƒõdy',
                'dinner': 'Veƒçe≈ôe',
                'snacks': 'Svaƒçiny',
                'beverages': 'N√°poje'
            };
            
            const content = `
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">Recepty s vysok√Ωm obsahem proteinu</h1>
                    <p class="text-xl text-gray-600">
                        Kucha≈ôka ${recipesData.length} recept≈Ø s vysok√Ωm obsahem b√≠lkovin. 
                        Od proteinov√Ωch sn√≠dan√≠ po fitness veƒçe≈ôe s detailn√≠mi nutriƒçn√≠mi informacemi.
                    </p>
                </div>
                
                <!-- Recipe Categories -->
                <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
                    ${Object.entries(categoryNames).map(([key, name]) => {
                        const count = recipesData.filter(r => r.category === key).length;
                        const avgProtein = recipesData.filter(r => r.category === key)
                            .reduce((sum, r) => sum + r.protein, 0) / count || 0;
                        const categoryIcons = {
                            'breakfast': 'üç≥', 'lunch': 'üç≤', 'dinner': 'üçΩÔ∏è', 
                            'snacks': 'üçé', 'beverages': 'ü•§'
                        };
                        return `
                            <div class="bg-white p-4 rounded-lg shadow text-center cursor-pointer hover:bg-primary/5 transition-colors" onclick="showRecipeCategory('${key}')">
                                <div class="text-3xl mb-2">${categoryIcons[key] || 'üçΩÔ∏è'}</div>
                                <div class="font-medium">${name}</div>
                                <div class="text-xs text-gray-500">${count} recept≈Ø</div>
                                <div class="text-xs text-primary">${avgProtein.toFixed(1)}g protein</div>
                            </div>
                        `;
                    }).join('')}
                </div>
                
                <!-- Recipe Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    ${recipesData.map(recipe => {
                        const difficultyColors = {
                            'easy': 'text-green-600 bg-green-100',
                            'medium': 'text-yellow-600 bg-yellow-100', 
                            'hard': 'text-red-600 bg-red-100'
                        };
                        const difficultyText = {
                            'easy': 'Snadn√©',
                            'medium': 'St≈ôedn√≠',
                            'hard': 'N√°roƒçn√©'
                        };
                        
                        return `
                            <div class="bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow cursor-pointer" onclick="showRecipe('${recipe.slug}')">
                                <div class="aspect-w-16 aspect-h-9 bg-gray-200">
                                    <div class="flex items-center justify-center text-4xl">
                                        ${recipe.category === 'breakfast' ? 'üç≥' : 
                                          recipe.category === 'lunch' ? 'üç≤' : 
                                          recipe.category === 'dinner' ? 'üçΩÔ∏è' : 
                                          recipe.category === 'beverages' ? 'ü•§' : 'üçΩÔ∏è'}
                                    </div>
                                </div>
                                <div class="p-6">
                                    <div class="flex justify-between items-start mb-2">
                                        <h3 class="text-lg font-semibold text-primary hover:underline">${recipe.title}</h3>
                                        <span class="px-2 py-1 text-xs rounded ${difficultyColors[recipe.difficulty]}">
                                            ${difficultyText[recipe.difficulty]}
                                        </span>
                                    </div>
                                    <p class="text-gray-600 mb-4 text-sm">${recipe.description}</p>
                                    
                                    <div class="grid grid-cols-3 gap-4 text-sm text-gray-500 mb-4">
                                        <div class="text-center">
                                            <div class="font-semibold text-primary">‚è±Ô∏è ${recipe.totalTime} min</div>
                                            <div class="text-xs">celkov√Ω ƒças</div>
                                        </div>
                                        <div class="text-center">
                                            <div class="font-semibold text-purple-600">üçΩÔ∏è ${recipe.servings} porc√≠</div>
                                            <div class="text-xs">poƒçet porc√≠</div>
                                        </div>
                                        <div class="text-center">
                                            <div class="font-semibold text-green-600">üí™ ${recipe.protein}g</div>
                                            <div class="text-xs">protein celkem</div>
                                        </div>
                                    </div>
                                    
                                    <div class="flex justify-between items-center text-xs">
                                        <span class="bg-gray-100 px-2 py-1 rounded">${categoryNames[recipe.category]}</span>
                                        <span class="text-orange-600 font-medium">${recipe.calories} kcal</span>
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Individual recipe page with Schema.org markup
        function showRecipe(slug) {
            const recipe = recipesData.find(r => r.slug === slug);
            if (!recipe) return;
            
            const categoryNames = {
                'breakfast': 'Sn√≠danƒõ',
                'lunch': 'Obƒõdy',
                'dinner': 'Veƒçe≈ôe',
                'snacks': 'Svaƒçiny',
                'beverages': 'N√°poje'
            };
            
            // Generate Schema.org Recipe markup
            const schemaMarkup = {
                "@context": "https://schema.org",
                "@type": "Recipe",
                "name": recipe.title,
                "description": recipe.description,
                "image": recipe.image || 'https://example.com/recipe-default.jpg',
                "author": {
                    "@type": "Organization",
                    "name": "Protein Hunter"
                },
                "recipeCategory": categoryNames[recipe.category],
                "recipeCuisine": "ƒåesk√°",
                "prepTime": `PT${recipe.prepTime}M`,
                "cookTime": `PT${recipe.cookTime}M`,
                "totalTime": `PT${recipe.totalTime}M`,
                "recipeYield": recipe.servings,
                "nutrition": {
                    "@type": "NutritionInformation",
                    "calories": `${recipe.calories} kcal`,
                    "proteinContent": `${recipe.protein}g`,
                    "servingSize": "1 porce"
                },
                "recipeIngredient": recipe.ingredients.map(ing => 
                    `${ing.amount} ${ing.unit} ${ing.name}`
                ),
                "recipeInstructions": recipe.instructions.map((step, index) => ({
                    "@type": "HowToStep",
                    "text": step,
                    "position": index + 1
                })),
                "keywords": recipe.seoKeywords.join(', ')
            };
            
            updateSEO(
                `${recipe.title} - recept s ${recipe.protein}g proteinu`,
                `${recipe.description} Kompletn√≠ recept s nutriƒçn√≠mi hodnotami: ${recipe.protein}g proteinu, ${recipe.calories} kcal, ${recipe.totalTime} minut p≈ô√≠pravy.`,
                recipe.seoKeywords.join(', '),
                schemaMarkup
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Recepty', action: 'showAllRecipes()'},
                {name: categoryNames[recipe.category], action: `showRecipeCategory('${recipe.category}')`},
                {name: recipe.title, action: `showRecipe('${slug}')`}
            ]);
            
            const proteinPerServing = (recipe.protein / recipe.servings).toFixed(1);
            const caloriesPerServing = (recipe.calories / recipe.servings).toFixed(0);
            
            const content = `
                <div class="bg-white rounded-lg shadow p-8 mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">${recipe.title}</h1>
                    <p class="text-lg text-gray-600 mb-6">${recipe.description}</p>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        <div class="bg-green-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-green-600">${recipe.protein}g</div>
                            <div class="text-sm text-green-700">protein celkem</div>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-blue-600">${recipe.totalTime} min</div>
                            <div class="text-sm text-blue-700">celkov√Ω ƒças</div>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-purple-600">${recipe.servings}</div>
                            <div class="text-sm text-purple-700">porc√≠</div>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-orange-600">${recipe.calories}</div>
                            <div class="text-sm text-orange-700">kcal celkem</div>
                        </div>
                    </div>
                    
                    <h2 class="text-xl font-semibold mb-4">Ingredience</h2>
                    <div class="space-y-2 mb-6">
                        ${recipe.ingredients.map(ing => `
                            <div class="flex justify-between p-2 border rounded">
                                <span>${ing.name}</span>
                                <span class="font-medium">${ing.amount} ${ing.unit}</span>
                            </div>
                        `).join('')}
                    </div>
                    
                    <h2 class="text-xl font-semibold mb-4">Postup</h2>
                    <ol class="space-y-3">
                        ${recipe.instructions.map((step, index) => `
                            <li class="flex gap-3">
                                <span class="flex-shrink-0 w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-sm font-semibold">${index + 1}</span>
                                <span>${step}</span>
                            </li>
                        `).join('')}
                    </ol>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        function showRecipeCategory(category) {
            const categoryNames = {
                'breakfast': 'Sn√≠danƒõ',
                'lunch': 'Obƒõdy', 
                'dinner': 'Veƒçe≈ôe',
                'snacks': 'Svaƒçiny',
                'beverages': 'N√°poje'
            };
            
            updateSEO(
                `Proteinov√© ${categoryNames[category].toLowerCase()} - recepty s vysok√Ωm proteinem`,
                `Recepty na ${categoryNames[category].toLowerCase()} s vysok√Ωm obsahem b√≠lkovin. Fitness recepty pro zdrav√Ω ≈æivotn√≠ styl.`,
                `proteinov√© ${categoryNames[category].toLowerCase()}, fitness ${categoryNames[category].toLowerCase()}, recepty s proteinem`
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Recepty', action: 'showAllRecipes()'},
                {name: categoryNames[category], action: `showRecipeCategory('${category}')`}
            ]);
            
            const content = `
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">Proteinov√© ${categoryNames[category].toLowerCase()}</h1>
                    <p class="text-xl text-gray-600">
                        Recepty na ${categoryNames[category].toLowerCase()} s vysok√Ωm obsahem b√≠lkovin pro fitness a zdrav√Ω ≈æivotn√≠ styl.
                    </p>
                </div>
                
                <div class="text-center py-12">
                    <p class="text-gray-500">Recepty pro kategorii "${categoryNames[category]}" budou brzy dostupn√©.</p>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Dictionary
        function showDictionary() {
            updateSEO(
                'Slovn√≠k proteinov√Ωch pojm≈Ø - kompletn√≠ pr≈Øvodce b√≠lkovinami',
                'Vysvƒõtlen√≠ 20+ pojm≈Ø z oblasti protein≈Ø a v√Ω≈æivy. Aminokyseliny, BCAA, whey protein, biologick√° hodnota a dal≈°√≠.',
                'slovn√≠k protein≈Ø, aminokyseliny, BCAA, whey protein, biologick√° hodnota, v√Ω≈æiva'
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Slovn√≠k', action: 'showDictionary()'}
            ]);
            
            const content = `
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">Slovn√≠k proteinov√Ωch pojm≈Ø</h1>
                    <p class="text-xl text-gray-600">
                        Kompletn√≠ pr≈Øvodce svƒõtem protein≈Ø a v√Ω≈æivy. Vysvƒõtlen√≠ odborn√Ωch pojm≈Ø srozumitelnƒõ.
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white rounded-lg shadow p-6">
                        <h3 class="text-lg font-semibold text-primary mb-2">Protein</h3>
                        <p class="text-gray-600 text-sm">Makronutrient slo≈æen√Ω z aminokyselin, nezbytn√Ω pro stavbu a obnovu tk√°n√≠...</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6">
                        <h3 class="text-lg font-semibold text-primary mb-2">BCAA</h3>
                        <p class="text-gray-600 text-sm">Vƒõtven√© aminokyseliny d≈Øle≈æit√© pro regeneraci sval≈Ø...</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6">
                        <h3 class="text-lg font-semibold text-primary mb-2">Whey protein</h3>
                        <p class="text-gray-600 text-sm">Syrov√°tkov√Ω protein, rychle se vst≈ôeb√°v√°...</p>
                    </div>
                    
                    <!-- More dictionary entries would be loaded from data -->
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Calculator
        function showCalculator() {
            updateSEO(
                'Protein kalkulaƒçka - vypoƒç√≠tejte svou pot≈ôebu b√≠lkovin',
                'Kalkulaƒçka denn√≠ pot≈ôeby protein≈Ø podle vƒõku, hmotnosti a aktivity. Personalizovan√© doporuƒçen√≠ pro sport a fitness.',
                'protein kalkulaƒçka, pot≈ôeba proteinu, denn√≠ d√°vka proteinu, fitness kalkulaƒçka'
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Kalkulaƒçka', action: 'showCalculator()'}
            ]);
            
            const content = `
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">Protein kalkulaƒçka</h1>
                    <p class="text-xl text-gray-600">
                        Vypoƒç√≠tejte svou denn√≠ pot≈ôebu b√≠lkovin podle vƒõku, hmotnosti a aktivity.
                    </p>
                </div>
                
                <div class="bg-white rounded-lg shadow p-8 max-w-2xl mx-auto">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Hmotnost (kg)</label>
                            <input type="number" id="weight" class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary" placeholder="70">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Aktivita</label>
                            <select id="activity" class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary">
                                <option value="1.2">Sedav√Ω zp≈Øsob ≈æivota</option>
                                <option value="1.6">Rekreaƒçn√≠ sport</option>
                                <option value="2.0">Intenzivn√≠ tr√©nink</option>
                                <option value="2.4">Profesion√°ln√≠ sport</option>
                            </select>
                        </div>
                    </div>
                    
                    <button onclick="calculateProtein()" class="w-full bg-primary text-white py-3 px-6 rounded-lg hover:bg-green-600 transition-colors mb-6">
                        Vypoƒç√≠tat pot≈ôebu
                    </button>
                    
                    <div id="result" class="text-center">
                        <p class="text-gray-500">Zadejte sv√© √∫daje pro v√Ωpoƒçet denn√≠ pot≈ôeby proteinu.</p>
                    </div>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        function calculateProtein() {
            const weight = document.getElementById('weight').value;
            const activity = document.getElementById('activity').value;
            
            if (!weight) {
                alert('Zadejte pros√≠m svou hmotnost');
                return;
            }
            
            const dailyProtein = Math.round(weight * activity);
            const result = document.getElementById('result');
            
            result.innerHTML = `
                <div class="bg-green-50 p-6 rounded-lg">
                    <h3 class="text-2xl font-bold text-green-600 mb-4">${dailyProtein}g</h3>
                    <p class="text-green-700">Doporuƒçen√° denn√≠ d√°vka proteinu</p>
                    <div class="mt-4 text-sm text-green-600">
                        To je nap≈ô√≠klad ${Math.round(dailyProtein / 25)} porc√≠ tvarohu nebo ${Math.round(dailyProtein / 23)} porc√≠ ku≈ôec√≠ho masa.
                    </div>
                </div>
            `;
        }
        
        // Enhanced Comparisons homepage
        function showComparisons() {
            updateSEO(
                'Porovn√°n√≠ proteinov√Ωch potravin - najdƒõte nejlep≈°√≠ pomƒõr cena/v√Ωkon',
                'Detailn√≠ porovn√°n√≠ proteinov√Ωch potravin podle ceny za gram proteinu. Interaktivn√≠ n√°stroj pro v√Ωbƒõr nejlep≈°√≠ch zdroj≈Ø b√≠lkovin.',
                'porovn√°n√≠ protein≈Ø, cena proteinu, nejlevnƒõj≈°√≠ protein, protein kalkulka'
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Porovn√°n√≠', action: 'showComparisons()'}
            ]);
            
            // Generate popular comparisons
            const popularComparisons = [
                { name: 'Nejlevnƒõj≈°√≠ vs Nejdra≈æ≈°√≠', 
                  products: [productsData.sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)[0],
                            productsData.sort((a, b) => b.pricePerGramProtein - a.pricePerGramProtein)[0]] },
                { name: 'Tvaroh vs Cottage cheese',
                  products: [productsData.find(p => p.name.includes('Tvaroh')),
                            productsData.find(p => p.name.includes('Cottage'))] },
                { name: 'Ku≈ôec√≠ vs Kr≈Øt√≠',
                  products: [productsData.find(p => p.name.includes('Ku≈ôec√≠')),
                            productsData.find(p => p.name.includes('Kr≈Øt√≠'))] },
                { name: 'Whey vs Rostlinn√©',
                  products: [productsData.find(p => p.name.includes('Whey')),
                            productsData.find(p => p.category === 'legumes')] },
                { name: 'Vejce vs Ryby',
                  products: [productsData.find(p => p.name.includes('Vejce')),
                            productsData.find(p => p.category === 'fish')] },
                { name: 'Ml√©ƒçn√© vs Maso',
                  products: [productsData.filter(p => p.category === 'dairy').sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)[0],
                            productsData.filter(p => p.category === 'meat').sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)[0]] }
            ].filter(comp => comp.products[0] && comp.products[1]);
            
            const content = `
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">Porovn√°n√≠ proteinov√Ωch potravin</h1>
                    <p class="text-xl text-gray-600">
                        Detailn√≠ porovn√°n√≠ produkt≈Ø podle ceny za gram proteinu, nutriƒçn√≠ch hodnot a efektivity. 
                        Najdƒõte nejlep≈°√≠ volbu pro va≈°i stravu a bud≈æet.
                    </p>
                </div>
                
                <!-- Quick Actions -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                    <div class="bg-white rounded-lg shadow p-6">
                        <h2 class="text-xl font-semibold mb-4">‚ö° Rychl√© porovn√°n√≠</h2>
                        <p class="text-gray-600 mb-4">Vyberte si z p≈ôedp≈ôipraven√Ωch porovn√°n√≠:</p>
                        <button onclick="showComparisonSelector()" class="w-full bg-primary text-white py-3 px-6 rounded-lg hover:bg-green-600 transition-colors">
                            üéØ Vybrat produkty k porovn√°n√≠
                        </button>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6">
                        <h2 class="text-xl font-semibold mb-4">üìä Kategori√°ln√≠ porovn√°n√≠</h2>
                        <p class="text-gray-600 mb-4">Porovnejte nejlep≈°√≠ produkty z r≈Øzn√Ωch kategori√≠:</p>
                        <div class="grid grid-cols-2 gap-2">
                            ${Object.entries(categoryNames).slice(0, 4).map(([key, name]) => `
                                <button onclick="showCategory('${key}')" class="text-sm bg-gray-100 hover:bg-primary hover:text-white transition-colors py-2 px-3 rounded">
                                    ${name}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                </div>
                
                <!-- Popular Comparisons -->
                <div class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-xl font-semibold mb-4">üî• Nejpopul√°rnƒõj≈°√≠ porovn√°n√≠</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${popularComparisons.map(comp => {
                            const [p1, p2] = comp.products;
                            const winner = p1.pricePerGramProtein < p2.pricePerGramProtein ? p1 : p2;
                            const savings = Math.abs(p1.pricePerGramProtein - p2.pricePerGramProtein);
                            const savingsPercent = (savings / Math.max(p1.pricePerGramProtein, p2.pricePerGramProtein) * 100).toFixed(0);
                            
                            return `
                                <div class="border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer" 
                                     onclick="showComparison('${p1.slug}', '${p2.slug}')">
                                    <h3 class="font-semibold text-primary mb-3">${comp.name}</h3>
                                    <div class="text-sm space-y-2">
                                        <div class="flex justify-between items-center">
                                            <span class="truncate">${p1.name.slice(0, 15)}...</span>
                                            <span class="font-bold text-blue-600">${p1.pricePerGramProtein.toFixed(2)} Kƒç/g</span>
                                        </div>
                                        <div class="text-center text-gray-400 text-xs">vs</div>
                                        <div class="flex justify-between items-center">
                                            <span class="truncate">${p2.name.slice(0, 15)}...</span>
                                            <span class="font-bold text-purple-600">${p2.pricePerGramProtein.toFixed(2)} Kƒç/g</span>
                                        </div>
                                    </div>
                                    <div class="mt-4 p-2 bg-green-50 rounded text-center">
                                        <div class="text-sm font-bold text-green-700">üèÜ ${winner.name.slice(0, 20)}...</div>
                                        <div class="text-xs text-green-600">${savingsPercent}% levnƒõj≈°√≠</div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
                
                <!-- Comparison Categories -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-xl font-semibold mb-4">üìä Porovn√°n√≠ podle kategori√≠</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        ${Object.entries(categoryNames).map(([key, name]) => {
                            const categoryProducts = productsData.filter(p => p.category === key);
                            const bestProduct = categoryProducts.sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)[0];
                            const avgPrice = categoryProducts.reduce((sum, p) => sum + p.pricePerGramProtein, 0) / categoryProducts.length;
                            
                            const categoryIcons = {
                                'dairy': 'ü•õ', 'meat': 'ü•©', 'fish': 'üêü', 
                                'legumes': 'üå±', 'nuts': 'ü•ú', 'supplements': 'üíä', 'other': 'üçΩÔ∏è'
                            };
                            
                            return `
                                <div class="border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer" onclick="showCategory('${key}')">
                                    <div class="text-center">
                                        <div class="text-3xl mb-2">${categoryIcons[key] || 'üçΩÔ∏è'}</div>
                                        <h3 class="font-semibold text-primary mb-2">${name}</h3>
                                        <div class="text-sm text-gray-600 space-y-1">
                                            <div>${categoryProducts.length} produkt≈Ø</div>
                                            <div class="font-bold text-green-600">Od ${bestProduct?.pricePerGramProtein.toFixed(2)} Kƒç/g</div>
                                            <div class="text-xs">Pr≈Ømƒõr: ${avgPrice.toFixed(2)} Kƒç/g</div>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        function showComparison(product1Slug, product2Slug) {
            const product1 = productsData.find(p => p.slug === product1Slug);
            const product2 = productsData.find(p => p.slug === product2Slug);
            
            if (!product1 || !product2) {
                // Show comparison selector if products not found
                showComparisonSelector();
                return;
            }
            
            const winner = product1.pricePerGramProtein < product2.pricePerGramProtein ? product1 : product2;
            const savings = Math.abs(product1.pricePerGramProtein - product2.pricePerGramProtein);
            const savingsPercent = (savings / Math.max(product1.pricePerGramProtein, product2.pricePerGramProtein) * 100).toFixed(1);
            
            updateSEO(
                `${product1.name} vs ${product2.name} - porovn√°n√≠ proteinu a ceny`,
                `Detailn√≠ porovn√°n√≠ ${product1.name} (${product1.pricePerGramProtein.toFixed(2)} Kƒç/g) vs ${product2.name} (${product2.pricePerGramProtein.toFixed(2)} Kƒç/g). ${winner.name} je levnƒõj≈°√≠ o ${savingsPercent}%.`,
                `${product1.name} vs ${product2.name}, porovn√°n√≠ protein≈Ø, cena proteinu, kter√Ω je lep≈°√≠`,
                {
                    "@context": "https://schema.org",
                    "@type": "Product",
                    "name": `Porovn√°n√≠: ${product1.name} vs ${product2.name}`,
                    "description": `Porovn√°n√≠ ceny za gram proteinu mezi ${product1.name} a ${product2.name}`
                }
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Porovn√°n√≠', action: 'showComparisons()'},
                {name: `${product1.name} vs ${product2.name}`, action: `showComparison('${product1Slug}', '${product2Slug}')`}
            ]);
            
            const comparisonMetrics = [
                {
                    name: 'Cena za gram proteinu',
                    unit: 'Kƒç/g',
                    product1: product1.pricePerGramProtein.toFixed(2),
                    product2: product2.pricePerGramProtein.toFixed(2),
                    winner: product1.pricePerGramProtein < product2.pricePerGramProtein ? 1 : 2,
                    difference: savings.toFixed(2)
                },
                {
                    name: 'Protein na 100g',
                    unit: 'g',
                    product1: product1.proteinPer100g,
                    product2: product2.proteinPer100g,
                    winner: product1.proteinPer100g > product2.proteinPer100g ? 1 : 2,
                    difference: Math.abs(product1.proteinPer100g - product2.proteinPer100g).toFixed(1)
                },
                {
                    name: 'Celkov√° cena',
                    unit: 'Kƒç',
                    product1: product1.price,
                    product2: product2.price,
                    winner: product1.price < product2.price ? 1 : 2,
                    difference: Math.abs(product1.price - product2.price).toFixed(0)
                },
                {
                    name: 'Celkem proteinu',
                    unit: 'g',
                    product1: product1.totalProtein,
                    product2: product2.totalProtein,
                    winner: product1.totalProtein > product2.totalProtein ? 1 : 2,
                    difference: Math.abs(product1.totalProtein - product2.totalProtein).toFixed(1)
                },
                {
                    name: 'Protein na korunu',
                    unit: 'g/Kƒç',
                    product1: product1.proteinPerCrown,
                    product2: product2.proteinPerCrown,
                    winner: product1.proteinPerCrown > product2.proteinPerCrown ? 1 : 2,
                    difference: Math.abs(product1.proteinPerCrown - product2.proteinPerCrown).toFixed(2)
                }
            ];
            
            const product1Wins = comparisonMetrics.filter(m => m.winner === 1).length;
            const product2Wins = comparisonMetrics.filter(m => m.winner === 2).length;
            const overallWinner = product1Wins > product2Wins ? product1 : product2;
            
            const content = `
                <!-- Comparison Header -->
                <div class="bg-white rounded-lg shadow p-8 mb-8">
                    <div class="text-center mb-6">
                        <h1 class="text-3xl font-bold text-gray-900 mb-4">${product1.name} vs ${product2.name}</h1>
                        <p class="text-xl text-gray-600">Detailn√≠ porovn√°n√≠ ceny za gram proteinu a nutriƒçn√≠ch hodnot</p>
                    </div>
                    
                    <!-- Winner Banner -->
                    <div class="bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-6 mb-6">
                        <div class="text-center">
                            <h2 class="text-2xl font-bold text-green-800 mb-2">üèÜ V√≠tƒõz porovn√°n√≠</h2>
                            <div class="text-3xl font-bold text-green-600">${overallWinner.name}</div>
                            <div class="text-green-700 mt-2">
                                V√≠tƒõz√≠ v ${overallWinner === product1 ? product1Wins : product2Wins} z ${comparisonMetrics.length} kategori√≠
                            </div>
                            <div class="text-sm text-green-600 mt-1">
                                ${overallWinner.pricePerGramProtein.toFixed(2)} Kƒç za gram proteinu
                            </div>
                        </div>
                    </div>
                    
                    <!-- Products Overview -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="text-center">
                            <div class="bg-blue-50 rounded-lg p-6">
                                <h3 class="text-xl font-bold text-blue-800 mb-4">${product1.name}</h3>
                                <div class="text-3xl font-bold text-blue-600 mb-2">${product1.pricePerGramProtein.toFixed(2)} Kƒç/g</div>
                                <div class="text-blue-700">${categoryNames[product1.category]}</div>
                                <div class="mt-4 space-y-2 text-sm">
                                    <div>Cena: ${product1.price} Kƒç</div>
                                    <div>Hmotnost: ${product1.weight >= 1000 ? (product1.weight/1000).toFixed(1) + ' kg' : product1.weight + ' g'}</div>
                                    <div>Protein: ${product1.proteinPer100g}g/100g</div>
                                    <div>Celkem: ${product1.totalProtein}g proteinu</div>
                                </div>
                                <button onclick="showProduct('${product1.slug}')" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors">
                                    üîç Detail produktu
                                </button>
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <div class="bg-purple-50 rounded-lg p-6">
                                <h3 class="text-xl font-bold text-purple-800 mb-4">${product2.name}</h3>
                                <div class="text-3xl font-bold text-purple-600 mb-2">${product2.pricePerGramProtein.toFixed(2)} Kƒç/g</div>
                                <div class="text-purple-700">${categoryNames[product2.category]}</div>
                                <div class="mt-4 space-y-2 text-sm">
                                    <div>Cena: ${product2.price} Kƒç</div>
                                    <div>Hmotnost: ${product2.weight >= 1000 ? (product2.weight/1000).toFixed(1) + ' kg' : product2.weight + ' g'}</div>
                                    <div>Protein: ${product2.proteinPer100g}g/100g</div>
                                    <div>Celkem: ${product2.totalProtein}g proteinu</div>
                                </div>
                                <button onclick="showProduct('${product2.slug}')" class="mt-4 bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition-colors">
                                    üîç Detail produktu
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Detailed Comparison Table -->
                <div class="bg-white rounded-lg shadow overflow-hidden mb-8">
                    <div class="px-6 py-4 bg-gray-50 border-b">
                        <h2 class="text-xl font-semibold">üìä Detailn√≠ porovn√°n√≠</h2>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Metrika</th>
                                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">${product1.name}</th>
                                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">${product2.name}</th>
                                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Rozd√≠l</th>
                                    <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">V√≠tƒõz</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                ${comparisonMetrics.map(metric => `
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">${metric.name}</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center ${
                                            metric.winner === 1 ? 'bg-green-50 text-green-800 font-bold' : 'text-gray-600'
                                        }">
                                            ${metric.product1} ${metric.unit}
                                            ${metric.winner === 1 ? ' üèÜ' : ''}
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center ${
                                            metric.winner === 2 ? 'bg-green-50 text-green-800 font-bold' : 'text-gray-600'
                                        }">
                                            ${metric.product2} ${metric.unit}
                                            ${metric.winner === 2 ? ' üèÜ' : ''}
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600">
                                            ${metric.difference} ${metric.unit}
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center">
                                            <span class="text-2xl">${metric.winner === 1 ? 'üîµ' : 'üü£'}</span>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Savings Calculator -->
                <div class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-xl font-semibold mb-4">üí∞ Kalkulace √∫spor</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center p-4 bg-yellow-50 rounded-lg">
                            <div class="text-2xl font-bold text-yellow-600">${savingsPercent}%</div>
                            <div class="text-yellow-700 text-sm">√∫spora za gram proteinu</div>
                        </div>
                        <div class="text-center p-4 bg-green-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600">${savings.toFixed(2)} Kƒç</div>
                            <div class="text-green-700 text-sm">rozd√≠l za gram proteinu</div>
                        </div>
                        <div class="text-center p-4 bg-blue-50 rounded-lg">
                            <div class="text-2xl font-bold text-blue-600">${(savings * 30).toFixed(0)} Kƒç</div>
                            <div class="text-blue-700 text-sm">√∫spora za 30g proteinu (denn√≠ d√°vka)</div>
                        </div>
                    </div>
                    <div class="mt-4 p-4 bg-gray-50 rounded-lg">
                        <p class="text-gray-700">
                            <strong>V√Ωpoƒçet:</strong> Pokud byste denno konzumovali 30g proteinu, 
                            za rok byste si s ${winner.name} oproti ${winner === product1 ? product2.name : product1.name} 
                            u≈°et≈ôili ${((savings * 30 * 365) / 1000).toFixed(1)} tis√≠c korun.
                        </p>
                    </div>
                </div>
                
                <!-- Recommendations -->
                <div class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-xl font-semibold mb-4">üéØ Doporuƒçen√≠</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="p-4 border rounded-lg">
                            <h3 class="font-semibold text-green-600 mb-2">üíµ Pro ≈°et≈ôen√≠ penƒõz</h3>
                            <p class="text-gray-700">
                                Vyberte si <strong>${winner.name}</strong> s cenou ${winner.pricePerGramProtein.toFixed(2)} Kƒç za gram proteinu. 
                                Dlouhodobƒõ u≈°et≈ô√≠te v√Ωrazn√© ƒç√°stky.
                            </p>
                        </div>
                        <div class="p-4 border rounded-lg">
                            <h3 class="font-semibold text-blue-600 mb-2">üí™ Pro maxim√°ln√≠ protein</h3>
                            <p class="text-gray-700">
                                ${product1.proteinPer100g > product2.proteinPer100g ? product1.name : product2.name} 
                                obsahuje v√≠ce proteinu (${Math.max(product1.proteinPer100g, product2.proteinPer100g)}g/100g) 
                                a je ide√°ln√≠ pro sportovce.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Related Comparisons -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-xl font-semibold mb-4">üîó Dal≈°√≠ porovn√°n√≠</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        ${productsData
                            .filter(p => p.id !== product1.id && p.id !== product2.id)
                            .sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)
                            .slice(0, 3)
                            .map(product => `
                                <div class="border rounded-lg p-4 hover:shadow-md transition-shadow">
                                    <h3 class="font-semibold text-primary mb-2">${product.name}</h3>
                                    <div class="text-sm text-gray-600 space-y-1">
                                        <div>Cena: ${product.pricePerGramProtein.toFixed(2)} Kƒç/g</div>
                                        <div>Protein: ${product.proteinPer100g}g/100g</div>
                                    </div>
                                    <div class="mt-3 space-y-2">
                                        <button onclick="showComparison('${product1.slug}', '${product.slug}')" class="w-full text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200">
                                            vs ${product1.name}
                                        </button>
                                        <button onclick="showComparison('${product2.slug}', '${product.slug}')" class="w-full text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200">
                                            vs ${product2.name}
                                        </button>
                                    </div>
                                </div>
                            `).join('')}
                    </div>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Comparison selector when no products specified
        function showComparisonSelector() {
            updateSEO(
                'Porovn√°n√≠ proteinov√Ωch potravin - vyberte produkty k porovn√°n√≠',
                'Porovnejte dva produkty podle ceny za gram proteinu, nutriƒçn√≠ch hodnot a efektivity. Najdƒõte nejlep≈°√≠ volbu pro va≈°i stravu.',
                'porovn√°n√≠ protein≈Ø, protein kalkulka, nejlevnƒõj≈°√≠ protein'
            );
            
            updateBreadcrumbs([
                {name: 'Dom≈Ø', action: 'showHomepage()'},
                {name: 'Porovn√°n√≠', action: 'showComparisons()'}
            ]);
            
            const topProducts = productsData.sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein).slice(0, 10);
            
            const content = `
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">Porovn√°n√≠ proteinov√Ωch potravin</h1>
                    <p class="text-xl text-gray-600">
                        Vyberte dva produkty pro detailn√≠ porovn√°n√≠ ceny za gram proteinu a nutriƒçn√≠ch hodnot.
                    </p>
                </div>
                
                <!-- Quick Comparisons -->
                <div class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-xl font-semibold mb-4">‚ö° Rychl√° porovn√°n√≠</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        ${[
                            { title: 'Nejlevnƒõj≈°√≠ vs Nejdra≈æ≈°√≠', 
                              product1: productsData.sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)[0],
                              product2: productsData.sort((a, b) => b.pricePerGramProtein - a.pricePerGramProtein)[0] },
                            { title: 'Ml√©ƒçn√© vs Maso',
                              product1: productsData.filter(p => p.category === 'dairy').sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)[0],
                              product2: productsData.filter(p => p.category === 'meat').sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)[0] },
                            { title: 'Rostlinn√© vs ≈Ωivƒçi≈°n√©',
                              product1: productsData.filter(p => p.category === 'legumes').sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)[0],
                              product2: productsData.filter(p => p.category === 'dairy').sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)[0] }
                        ].map(comp => `
                            <div class="border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer" 
                                 onclick="showComparison('${comp.product1?.slug}', '${comp.product2?.slug}')">
                                <h3 class="font-semibold text-primary mb-3">${comp.title}</h3>
                                <div class="text-sm space-y-2">
                                    <div class="flex justify-between">
                                        <span>${comp.product1?.name.slice(0, 20)}...</span>
                                        <span class="font-bold">${comp.product1?.pricePerGramProtein.toFixed(2)} Kƒç/g</span>
                                    </div>
                                    <div class="text-center text-gray-400">vs</div>
                                    <div class="flex justify-between">
                                        <span>${comp.product2?.name.slice(0, 20)}...</span>
                                        <span class="font-bold">${comp.product2?.pricePerGramProtein.toFixed(2)} Kƒç/g</span>
                                    </div>
                                </div>
                                <div class="mt-3 text-center">
                                    <span class="text-xs bg-primary text-white px-2 py-1 rounded">üîç Porovnat</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <!-- Product Selector -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-xl font-semibold mb-4">üéØ Vlastn√≠ v√Ωbƒõr</h2>
                    <p class="text-gray-600 mb-6">Kliknƒõte na dva produkty pro jejich porovn√°n√≠:</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="productSelector">
                        ${topProducts.map((product, index) => `
                            <div class="border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer product-selector" 
                                 data-slug="${product.slug}" onclick="selectProductForComparison('${product.slug}')">
                                <div class="text-center mb-2">
                                    <span class="text-xl">${index < 3 ? ['üèÜ', 'ü•à', 'ü•â'][index] : `#${index + 1}`}</span>
                                </div>
                                <h3 class="font-semibold text-primary mb-2">${product.name}</h3>
                                <div class="text-sm text-gray-600 space-y-1">
                                    <div>Cena: ${product.pricePerGramProtein.toFixed(2)} Kƒç/g</div>
                                    <div>Protein: ${product.proteinPer100g}g/100g</div>
                                    <div>Kategorie: ${categoryNames[product.category]}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="mt-6 text-center">
                        <div id="selectionStatus" class="text-gray-500">
                            Vyberte dva produkty pro porovn√°n√≠
                        </div>
                        <button id="compareButton" class="mt-3 bg-primary text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors disabled:bg-gray-300" disabled>
                            Porovnat vybran√© produkty
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Product selection for comparison
        let selectedProducts = [];
        
        function selectProductForComparison(slug) {
            const element = document.querySelector(`[data-slug="${slug}"]`);
            
            if (selectedProducts.includes(slug)) {
                // Deselect
                selectedProducts = selectedProducts.filter(s => s !== slug);
                element.classList.remove('ring-2', 'ring-primary', 'bg-primary/5');
            } else if (selectedProducts.length < 2) {
                // Select
                selectedProducts.push(slug);
                element.classList.add('ring-2', 'ring-primary', 'bg-primary/5');
            } else {
                // Replace oldest selection
                const oldSlug = selectedProducts.shift();
                const oldElement = document.querySelector(`[data-slug="${oldSlug}"]`);
                oldElement.classList.remove('ring-2', 'ring-primary', 'bg-primary/5');
                
                selectedProducts.push(slug);
                element.classList.add('ring-2', 'ring-primary', 'bg-primary/5');
            }
            
            updateComparisonButton();
        }
        
        function updateComparisonButton() {
            const statusEl = document.getElementById('selectionStatus');
            const buttonEl = document.getElementById('compareButton');
            
            if (selectedProducts.length === 0) {
                statusEl.textContent = 'Vyberte dva produkty pro porovn√°n√≠';
                buttonEl.disabled = true;
            } else if (selectedProducts.length === 1) {
                const product = productsData.find(p => p.slug === selectedProducts[0]);
                statusEl.textContent = `Vybr√°no: ${product.name}. Vyberte je≈°tƒõ jeden produkt.`;
                buttonEl.disabled = true;
            } else {
                const product1 = productsData.find(p => p.slug === selectedProducts[0]);
                const product2 = productsData.find(p => p.slug === selectedProducts[1]);
                statusEl.textContent = `Vybr√°no: ${product1.name} vs ${product2.name}`;
                buttonEl.disabled = false;
                buttonEl.onclick = () => showComparison(selectedProducts[0], selectedProducts[1]);
            }
        }
        
        // Navigation helper
        function navigateTo(path) {
            const fullPath = `/protein-hunter${path}`;
            history.pushState({page: path}, '', fullPath);
            handleRouting();
        }
        
        // Override link clicks to use navigateTo
        function showHomepage() {
            updateSEO(
                'Protein Hunter - Najdƒõte nejlep≈°√≠ pomƒõr proteinu a ceny',
                'Porovn√°n√≠ 45+ potravin podle ceny za gram proteinu. Recepty, kalkulaƒçka a slovn√≠k protein≈Ø pro fitness a zdrav√≠.',
                'protein, b√≠lkoviny, cena proteinu, nejlevnƒõj≈°√≠ protein, fitness recepty, proteinov√© potraviny'
            );
            
            updateBreadcrumbs([{name: 'Dom≈Ø', action: 'navigateTo("/")'}]);
            
            // ... rest of homepage content remains the same
            const content = `
                <div class="text-center mb-12">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">ü•© Protein Hunter</h1>
                    <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                        Najdƒõte nejlep≈°√≠ pomƒõr proteinu a ceny z 45+ potravin. 
                        Porovnejte ceny, objevte recepty a vypoƒç√≠tejte svou pot≈ôebu b√≠lkovin.
                    </p>
                </div>
                
                <!-- Quick Stats -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
                    <div class="bg-white p-6 rounded-lg shadow text-center">
                        <div class="text-3xl font-bold text-primary">${productsData.length}</div>
                        <div class="text-gray-600">Produkt≈Ø v datab√°zi</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow text-center">
                        <div class="text-3xl font-bold text-primary">4</div>
                        <div class="text-gray-600">Recept≈Ø s vysok√Ωm proteinem</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow text-center">
                        <div class="text-3xl font-bold text-primary">${Math.min(...productsData.map(p => p.pricePerGramProtein)).toFixed(2)}</div>
                        <div class="text-gray-600">Nejlep≈°√≠ cena Kƒç/g</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow text-center">
                        <div class="text-3xl font-bold text-primary">20+</div>
                        <div class="text-gray-600">Pojm≈Ø ve slovn√≠ku</div>
                    </div>
                </div>
                
                <!-- Updated links with proper navigation -->
                <div class="bg-white rounded-lg shadow mb-8">
                    <div class="px-6 py-4 border-b">
                        <h2 class="text-2xl font-semibold">üèÜ TOP 5 nejlevnƒõj≈°√≠ch protein≈Ø</h2>
                    </div>
                    <div class="p-6">
                        ${productsData
                            .sort((a, b) => a.pricePerGramProtein - b.pricePerGramProtein)
                            .slice(0, 5)
                            .map((product, index) => `
                                <div class="flex items-center justify-between py-3 border-b last:border-b-0 hover:bg-gray-50 cursor-pointer" onclick="navigateTo('/produkty/${product.slug}')">
                                    <div class="flex items-center gap-4">
                                        <span class="text-2xl">${['üèÜ', 'ü•à', 'ü•â', '4Ô∏è‚É£', '5Ô∏è‚É£'][index]}</span>
                                        <div>
                                            <h3 class="font-semibold text-primary hover:underline">${product.name}</h3>
                                            <div class="text-sm text-gray-600">${categoryNames[product.category]} ‚Ä¢ ${product.totalProtein}g proteinu</div>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-xl font-bold text-primary">${product.pricePerGramProtein.toFixed(2)} Kƒç</div>
                                        <div class="text-xs text-gray-500">za 1g proteinu</div>
                                    </div>
                                </div>
                            `).join('')}
                    </div>
                </div>
                
                <!-- Quick Actions with proper links -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">üìä Produkty podle kategori√≠</h3>
                        <div class="space-y-2">
                            ${Object.entries(categoryNames).map(([key, name]) => `
                                <a href="/protein-hunter/kategorie/${key}" onclick="navigateTo('/kategorie/${key}'); return false;" class="block text-primary hover:underline">${name}</a>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">üçΩÔ∏è Recepty s vysok√Ωm proteinem</h3>
                        <div class="space-y-2">
                            <a href="/protein-hunter/recepty/breakfast" onclick="navigateTo('/recepty/breakfast'); return false;" class="block text-primary hover:underline">Proteinov√© sn√≠danƒõ</a>
                            <a href="/protein-hunter/recepty/lunch" onclick="navigateTo('/recepty/lunch'); return false;" class="block text-primary hover:underline">Fitness obƒõdy</a>
                            <a href="/protein-hunter/recepty/dinner" onclick="navigateTo('/recepty/dinner'); return false;" class="block text-primary hover:underline">Zdrav√© veƒçe≈ôe</a>
                            <a href="/protein-hunter/recepty" onclick="navigateTo('/recepty'); return false;" class="block text-primary hover:underline">V≈°echny recepty ‚Üí</a>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-3">üîß N√°stroje</h3>
                        <div class="space-y-2">
                            <a href="/protein-hunter/kalkulacka" onclick="navigateTo('/kalkulacka'); return false;" class="block text-primary hover:underline">Protein kalkulaƒçka</a>
                            <a href="/protein-hunter/slovnik" onclick="navigateTo('/slovnik'); return false;" class="block text-primary hover:underline">Slovn√≠k pojm≈Ø</a>
                            <a href="/protein-hunter/porovnani" onclick="navigateTo('/porovnani'); return false;" class="block text-primary hover:underline">Porovn√°n√≠ produkt≈Ø</a>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('mainContent').innerHTML = content;
        }
        
        // Initialize app with routing
        document.addEventListener('DOMContentLoaded', function() {
            handleRouting();
        });
        
        // Handle browser back/forward
        window.addEventListener('popstate', function(event) {
            handleRouting();
        });
    </script>
</body>
</html>